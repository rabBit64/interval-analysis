/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 211 "/usr/lib/gcc/i486-linux-gnu/4.4.3/include/stddef.h"
typedef unsigned int size_t;
#line 56 "/usr/include/bits/types.h"
typedef long long __quad_t;
#line 57 "/usr/include/bits/types.h"
typedef unsigned long long __u_quad_t;
#line 134 "/usr/include/bits/types.h"
typedef __u_quad_t __dev_t;
#line 135 "/usr/include/bits/types.h"
typedef unsigned int __uid_t;
#line 136 "/usr/include/bits/types.h"
typedef unsigned int __gid_t;
#line 137 "/usr/include/bits/types.h"
typedef unsigned long __ino_t;
#line 139 "/usr/include/bits/types.h"
typedef unsigned int __mode_t;
#line 140 "/usr/include/bits/types.h"
typedef unsigned int __nlink_t;
#line 141 "/usr/include/bits/types.h"
typedef long __off_t;
#line 142 "/usr/include/bits/types.h"
typedef __quad_t __off64_t;
#line 149 "/usr/include/bits/types.h"
typedef long __time_t;
#line 164 "/usr/include/bits/types.h"
typedef long __blksize_t;
#line 169 "/usr/include/bits/types.h"
typedef long __blkcnt_t;
#line 180 "/usr/include/bits/types.h"
typedef int __ssize_t;
#line 45 "/usr/include/stdio.h"
struct _IO_FILE;
#line 49 "/usr/include/stdio.h"
typedef struct _IO_FILE FILE;
#line 180 "/usr/include/libio.h"
typedef void _IO_lock_t;
#line 186 "/usr/include/libio.h"
struct _IO_marker {
   struct _IO_marker *_next ;
   struct _IO_FILE *_sbuf ;
   int _pos ;
};
#line 271 "/usr/include/libio.h"
struct _IO_FILE {
   int _flags ;
   char *_IO_read_ptr ;
   char *_IO_read_end ;
   char *_IO_read_base ;
   char *_IO_write_base ;
   char *_IO_write_ptr ;
   char *_IO_write_end ;
   char *_IO_buf_base ;
   char *_IO_buf_end ;
   char *_IO_save_base ;
   char *_IO_backup_base ;
   char *_IO_save_end ;
   struct _IO_marker *_markers ;
   struct _IO_FILE *_chain ;
   int _fileno ;
   int _flags2 ;
   __off_t _old_offset ;
   unsigned short _cur_column ;
   signed char _vtable_offset ;
   char _shortbuf[1] ;
   _IO_lock_t *_lock ;
   __off64_t _offset ;
   void *__pad1 ;
   void *__pad2 ;
   void *__pad3 ;
   void *__pad4 ;
   size_t __pad5 ;
   int _mode ;
   char _unused2[(15UL * sizeof(int ) - 4UL * sizeof(void *)) - sizeof(size_t )] ;
};
#line 88 "/usr/include/sys/types.h"
typedef __off_t off_t;
#line 110 "/usr/include/sys/types.h"
typedef __ssize_t ssize_t;
#line 120 "/usr/include/time.h"
struct timespec {
   __time_t tv_sec ;
   long tv_nsec ;
};
#line 84 "/usr/include/signal.h"
typedef void (*__sighandler_t)(int  );
#line 43 "/usr/include/bits/stat.h"
struct stat {
   __dev_t st_dev ;
   unsigned short __pad1 ;
   __ino_t st_ino ;
   __mode_t st_mode ;
   __nlink_t st_nlink ;
   __uid_t st_uid ;
   __gid_t st_gid ;
   __dev_t st_rdev ;
   unsigned short __pad2 ;
   __off_t st_size ;
   __blksize_t st_blksize ;
   __blkcnt_t st_blocks ;
   struct timespec st_atim ;
   struct timespec st_mtim ;
   struct timespec st_ctim ;
   unsigned long __unused4 ;
   unsigned long __unused5 ;
};
#line 146 "/usr/include/stdio.h"
extern struct _IO_FILE *stdout ;
#line 147
extern struct _IO_FILE *stderr ;
#line 214
extern int fclose(FILE *__stream ) ;
#line 219
extern int fflush(FILE *__stream ) ;
#line 283
extern  __attribute__((__nothrow__)) FILE *fdopen(int __fd , char const   *__modes ) ;
#line 333
extern int fprintf(FILE * __restrict  __stream , char const   * __restrict  __format 
                   , ...) ;
#line 339
extern int printf(char const   * __restrict  __format  , ...) ;
#line 363
extern  __attribute__((__nothrow__)) int ( /* format attribute */  snprintf)(char * __restrict  __s ,
                                                                             size_t __maxlen ,
                                                                             char const   * __restrict  __format 
                                                                             , ...) ;
#line 682
extern size_t fread(void * __restrict  __ptr , size_t __size , size_t __n , FILE * __restrict  __stream ) ;
#line 688
extern size_t fwrite(void const   * __restrict  __ptr , size_t __size , size_t __n ,
                     FILE * __restrict  __s ) ;
#line 722
extern int fseek(FILE *__stream , long __off , int __whence ) ;
#line 727
extern long ftell(FILE *__stream ) ;
#line 732
extern void rewind(FILE *__stream ) ;
#line 184 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) long ( __attribute__((__nonnull__(1))) strtol)(char const   * __restrict  __nptr ,
                                                                                    char ** __restrict  __endptr ,
                                                                                    int __base ) ;
#line 543
extern  __attribute__((__nothrow__, __noreturn__)) void exit(int __status ) ;
#line 566
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1))) getenv)(char const   *__name ) ;
#line 127 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2))) strcpy)(char * __restrict  __dest ,
                                                                                       char const   * __restrict  __src ) ;
#line 145
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2))) strncmp)(char const   *__s1 ,
                                                                                      char const   *__s2 ,
                                                                                      size_t __n )  __attribute__((__pure__)) ;
#line 397
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__nonnull__(1))) strlen)(char const   *__s )  __attribute__((__pure__)) ;
#line 411
extern  __attribute__((__nothrow__)) char *strerror(int __errnum ) ;
#line 43 "/usr/include/bits/errno.h"
extern  __attribute__((__nothrow__)) int *__errno_location(void)  __attribute__((__const__)) ;
#line 73 "/usr/include/fcntl.h"
extern int ( __attribute__((__nonnull__(1))) open)(char const   *__file , int __oflag 
                                                   , ...) ;
#line 331 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) __off_t lseek(int __fd , __off_t __offset , int __whence ) ;
#line 350
extern int close(int __fd ) ;
#line 357
extern ssize_t read(int __fd , void *__buf , size_t __nbytes ) ;
#line 101 "/usr/include/signal.h"
extern  __attribute__((__nothrow__)) __sighandler_t signal(int __sig , void (*__handler)(int  ) ) ;
#line 214 "/usr/include/sys/stat.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(2))) fstat)(int __fd ,
                                                                                  struct stat *__buf ) ;
#line 38 "/home/wslee/benchmarks/textformat/since-0.5/since.c"
char since_format[256]  ;
#line 39 "/home/wslee/benchmarks/textformat/since-0.5/since.c"
int line_offset  =    0;
#line 40 "/home/wslee/benchmarks/textformat/since-0.5/since.c"
int line_length  =    0;
#line 41 "/home/wslee/benchmarks/textformat/since-0.5/since.c"
char const   *compressed_extensions[5]  = {      ".gz",      ".bz2",      ".bz",      ".zip", 
        (char const   *)((void *)0)};
#line 46 "/home/wslee/benchmarks/textformat/since-0.5/since.c"
int test_exclusion(char *s ) 
{ 
  int i ;
  int j ;
  int k ;
  int m ;
  size_t tmp ;
  size_t tmp___0 ;

  {
  {
  {
#line 51
  tmp = strlen((char const   *)s);
  }
#line 51
  m = (int )tmp;
#line 53
  k = 0;
  }
  {
  {
#line 53
  while (1) {
    while_continue___1: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 53
    if (! compressed_extensions[k]) {
#line 53
      goto while_break;
    }
    {
    {
#line 55
    tmp___0 = strlen(compressed_extensions[k]);
    }
#line 55
    j = (int )tmp___0;
    }
#line 56
    if (m >= j) {
#line 62
      i = m;
      {
      {
#line 62
      while (1) {
        while_continue___2: /* CIL Label */ ;
        while_continue___0: /* CIL Label */ ;
#line 62
        if (j >= 0) {
#line 62
          if (! ((int )*(s + i) == (int )*(compressed_extensions[k] + j))) {
#line 62
            goto while_break___0;
          }
        } else {
#line 62
          goto while_break___0;
        }
#line 62
        i --;
#line 62
        j --;
      }
      while_break___2: /* CIL Label */ ;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 64
      if (j < 0) {
#line 66
        return (1);
      }
    }
#line 53
    k ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 71
  return (0);
}
}
#line 78 "/home/wslee/benchmarks/textformat/since-0.5/since.c"
int guess_size(int type , char *s , int len ) 
{ 
  int i ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;

  {
#line 83
  if (len < 9) {
    {
    {
#line 85
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: impossible error: buffer too short to prepare format string\n");
    }
    {
#line 87
    exit(65);
    }
    }
  }
  {
  {
#line 90
  i = snprintf((char */* __restrict  */)s, (size_t )len, (char const   */* __restrict  */)"%%0%d",
               2 * type);
  }
  }
#line 92
  if (! (sizeof(int ) == (unsigned long )type)) {
#line 96
    if (sizeof(long ) == (unsigned long )type) {
#line 98
      tmp = i;
#line 98
      i ++;
#line 98
      *(s + tmp) = (char )'l';
    } else
#line 100
    if (sizeof(long long ) == (unsigned long )type) {
#line 102
      tmp___0 = i;
#line 102
      i ++;
#line 102
      *(s + tmp___0) = (char )'l';
#line 103
      tmp___1 = i;
#line 103
      i ++;
#line 103
      *(s + tmp___1) = (char )'l';
    } else
#line 105
    if (sizeof(short ) == (unsigned long )type) {
#line 107
      tmp___2 = i;
#line 107
      i ++;
#line 107
      *(s + tmp___2) = (char )'h';
    } else
#line 109
    if (sizeof(char ) == (unsigned long )type) {
#line 111
      tmp___3 = i;
#line 111
      i ++;
#line 111
      *(s + tmp___3) = (char )'h';
#line 112
      tmp___4 = i;
#line 112
      i ++;
#line 112
      *(s + tmp___4) = (char )'h';
    } else {
      {
      {
#line 116
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: impossible error: type length %d is unknown\n",
              type);
      }
      {
#line 118
      exit(65);
      }
      }
    }
  }
#line 121
  tmp___5 = i;
#line 121
  i ++;
#line 121
  *(s + tmp___5) = (char )'x';
#line 122
  *(s + i) = (char )'\000';
#line 124
  return (i);
}
}
#line 133 "/home/wslee/benchmarks/textformat/since-0.5/since.c"
void prepare_format(void) 
{ 
  struct stat st ;
  char buffer[256] ;
  int print_len ;
  int calc_len ;
  int i ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  void *__cil_tmp13 ;
  char *__cil_tmp14 ;

  {
  {
#line 139
  i = 0;
  {
#line 141
  tmp = guess_size((int )sizeof(st.st_dev), since_format + i, 256 - i);
  }
#line 141
  i += tmp;
#line 142
  tmp___0 = i;
#line 142
  i ++;
#line 142
  since_format[tmp___0] = (char )':';
  {
#line 143
  tmp___1 = guess_size((int )sizeof(st.st_ino), since_format + i, 256 - i);
  }
#line 143
  i += tmp___1;
#line 144
  tmp___2 = i;
#line 144
  i ++;
#line 144
  since_format[tmp___2] = (char )':';
  {
#line 145
  tmp___3 = guess_size((int )sizeof(st.st_size), since_format + i, 256 - i);
  }
#line 145
  i += tmp___3;
#line 146
  tmp___4 = i;
#line 146
  i ++;
#line 146
  since_format[tmp___4] = (char )'\n';
#line 147
  tmp___5 = i;
#line 147
  i ++;
#line 147
  since_format[tmp___5] = (char )'\000';
  {
#line 153
  print_len = snprintf((char */* __restrict  */)(buffer), (size_t )255, (char const   */* __restrict  */)(since_format),
                       st.st_dev, st.st_ino, st.st_size);
  }
#line 156
  calc_len = (int )(3UL + 2UL * ((sizeof(st.st_dev) + sizeof(st.st_ino)) + sizeof(st.st_size)));
  }
#line 159
  if (calc_len != print_len) {
    {
    {
#line 161
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: conflicting data format lengths %d!=%d\n",
            calc_len, print_len);
    }
    {
#line 163
    exit(1);
    }
    }
  }
#line 166
  line_offset = (int )(1UL + 2UL * (sizeof(st.st_dev) + sizeof(st.st_ino)));
#line 167
  line_length = calc_len;
#line 168
  return;
}
}
#line 178 "/home/wslee/benchmarks/textformat/since-0.5/since.c"
off_t sincefile(FILE *file , struct stat *st , int update ) 
{ 
  char have[256] ;
  char got[256] ;
  int match ;
  int got_length ;
  char *endptr ;
  off_t result ;
  size_t tmp ;
  int tmp___0 ;
  int *tmp___1 ;
  char *tmp___2 ;
  int *tmp___3 ;
  char *tmp___4 ;
  long tmp___5 ;
  int tmp___6 ;
  int *tmp___7 ;
  char *tmp___8 ;
  size_t tmp___9 ;
  int tmp___10 ;
  int *tmp___11 ;
  char *tmp___12 ;
  size_t tmp___13 ;
  void *__cil_tmp25 ;
  void *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;

  {
  {
#line 184
  result = (off_t )0;
  {
#line 186
  snprintf((char */* __restrict  */)(have), (size_t )256, (char const   */* __restrict  */)(since_format),
           st->st_dev, st->st_ino, st->st_size);
  }
#line 189
  match = 0;
  {
#line 190
  rewind(file);
  }
  }
  {
  {
#line 191
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
    {
    {
#line 193
    tmp = fread((void */* __restrict  */)(got), (size_t )sizeof(char ), (size_t )line_length,
                (FILE */* __restrict  */)file);
    }
#line 193
    got_length = (int )tmp;
    }
#line 199
    if (got_length == line_length) {
#line 201
      if ((int )got[got_length - 1] == 10) {
        {
        {
#line 203
        tmp___0 = strncmp((char const   *)(got), (char const   *)(have), (size_t )line_offset);
        }
        }
#line 203
        if (! tmp___0) {
#line 208
          match = 1;
#line 209
          got_length = 0;
        }
      } else {
#line 214
        got_length = -1;
      }
    }
#line 191
    if (! (got_length == line_length)) {
#line 191
      goto while_break;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 220
  if (got_length) {
    {
    {
#line 222
    tmp___1 = __errno_location();
    }
    {
#line 222
    tmp___2 = strerror(*tmp___1);
    }
    {
#line 222
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: could not read .since information: %s\n",
            tmp___2);
    }
    {
#line 224
    exit(65);
    }
    }
  } else {
#line 229
    if (match) {
      {
#line 235
      got[line_length] = (char )'\000';
      {
#line 236
      result = strtol((char const   */* __restrict  */)((got + line_offset) + 1),
                      (char **/* __restrict  */)(& endptr), 16);
      }
      }
#line 237
      if (result > st->st_size) {
        {
        {
#line 239
        fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: assuming a truncation, redisplaying entire file\n");
        }
#line 241
        result = (off_t )0;
        }
      }
    }
#line 248
    if (update) {
#line 250
      if (match) {
        {
        {
#line 256
        tmp___10 = strncmp((char const   *)(have), (char const   *)(got), (size_t )line_length);
        }
        }
#line 256
        if (tmp___10) {
          {
          {
#line 263
          tmp___5 = ftell(file);
          }
          {
#line 263
          tmp___6 = fseek(file, tmp___5 - (long )line_length, 0);
          }
          }
#line 263
          if (tmp___6) {
            {
            {
#line 265
            tmp___3 = __errno_location();
            }
            {
#line 265
            tmp___4 = strerror(*tmp___3);
            }
            {
#line 265
            fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: could not seek .since database: %s\n",
                    tmp___4);
            }
            {
#line 268
            exit(74);
            }
            }
          }
          {
          {
#line 274
          tmp___9 = fwrite((void const   */* __restrict  */)(have), (size_t )sizeof(char ),
                           (size_t )line_length, (FILE */* __restrict  */)file);
          }
          }
#line 274
          if (tmp___9 != (size_t )line_length) {
            {
            {
#line 277
            tmp___7 = __errno_location();
            }
            {
#line 277
            tmp___8 = strerror(*tmp___7);
            }
            {
#line 277
            fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: could not write to .since database: %s\n",
                    tmp___8);
            }
            {
#line 280
            exit(74);
            }
            }
          }
          {
          {
#line 282
          fflush(file);
          }
          }
        }
      } else {
        {
        {
#line 291
        tmp___13 = fwrite((void const   */* __restrict  */)(have), (size_t )sizeof(char ),
                          (size_t )line_length, (FILE */* __restrict  */)file);
        }
        }
#line 291
        if (tmp___13 != (size_t )line_length) {
          {
          {
#line 294
          tmp___11 = __errno_location();
          }
          {
#line 294
          tmp___12 = strerror(*tmp___11);
          }
          {
#line 294
          fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: could not append to .since database: %s\n",
                  tmp___12);
          }
          {
#line 297
          exit(74);
          }
          }
        }
        {
        {
#line 299
        fflush(file);
        }
        }
      }
    }
  }
#line 304
  return (result);
}
}
#line 313 "/home/wslee/benchmarks/textformat/since-0.5/since.c"
int disp_file(int fd , off_t offset ) 
{ 
  char buffer[4096] ;
  int wl ;
  int rl ;
  int *tmp ;
  char *tmp___0 ;
  size_t tmp___1 ;
  int *tmp___2 ;
  char *tmp___3 ;
  __off_t tmp___4 ;
  void *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;

  {
  {
#line 317
  wl = 0;
#line 317
  rl = 0;
  {
#line 319
  tmp___4 = lseek(fd, offset, 0);
  }
  }
#line 319
  if (tmp___4 != offset) {
    {
    {
#line 321
    tmp = __errno_location();
    }
    {
#line 321
    tmp___0 = strerror(*tmp);
    }
    {
#line 321
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: could not seek to desired location: %s\n",
            tmp___0);
    }
    }
  } else {
    {
    {
#line 326
    while (1) {
      while_continue___0: /* CIL Label */ ;
      while_continue: /* CIL Label */ ;
      {
      {
#line 328
      rl = read(fd, (void *)(buffer), (size_t )4096);
      }
      }
#line 329
      if (rl > 0) {
        {
        {
#line 331
        tmp___1 = fwrite((void const   */* __restrict  */)(buffer), (size_t )sizeof(char ),
                         (size_t )rl, (FILE */* __restrict  */)stdout);
        }
#line 331
        wl = (int )tmp___1;
        }
      }
#line 326
      if (! ((rl == wl) & ((unsigned long )(& rl) > 0UL))) {
#line 326
        goto while_break;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: /* CIL Label */ ;
    }
#line 335
    if (rl < 0) {
      {
      {
#line 337
      tmp___2 = __errno_location();
      }
      {
#line 337
      tmp___3 = strerror(*tmp___2);
      }
      {
#line 337
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: could not display file: %s\n",
              tmp___3);
      }
      }
    } else
#line 335
    if (wl < 0) {
      {
      {
#line 337
      tmp___2 = __errno_location();
      }
      {
#line 337
      tmp___3 = strerror(*tmp___2);
      }
      {
#line 337
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: could not display file: %s\n",
              tmp___3);
      }
      }
    }
  }
#line 342
  return (0);
}
}
#line 345 "/home/wslee/benchmarks/textformat/since-0.5/since.c"
void usage(void) 
{ 
  char *__cil_tmp1 ;

  {
  {
  {
#line 348
  printf((char const   */* __restrict  */)"since : A tail(1) which remembers its last invocation\nUsage : since [options] file ...\nOptions\n-h       This help\n-n       Do not write updates to .since file\n-q       Less verbose output\n-v       More verbose output\n-x       Exclude files with compressed extensions\n.since : Location determined by $SINCE environment variable, else $HOME/.since, if neither are set then /tmp/since\n");
  }
  }
#line 358
  return;
}
}
#line 360 "/home/wslee/benchmarks/textformat/since-0.5/since.c"
int main(int argc , char **argv ) 
{ 
  FILE *since ;
  char buffer[256] ;
  char *sincename ;
  struct stat st ;
  off_t seekdest ;
  char *ptr ;
  int i ;
  int j ;
  int dashfile ;
  int files ;
  int fd ;
  int sfd ;
  int sflags ;
  int update ;
  int verbose ;
  int exclude ;
  int tmp ;
  int *tmp___0 ;
  char *tmp___1 ;
  char const   *tmp___2 ;
  int *tmp___3 ;
  char *tmp___4 ;
  int *tmp___5 ;
  char *tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  void *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;
  char *__cil_tmp49 ;
  char *__cil_tmp50 ;
  char *__cil_tmp51 ;
  char *__cil_tmp52 ;
  char *__cil_tmp53 ;
  char *__cil_tmp54 ;
  char *__cil_tmp55 ;
  char *__cil_tmp56 ;
  char *__cil_tmp57 ;

  {
#line 388
  update = 1;
#line 389
  verbose = 1;
#line 390
  exclude = 0;
#line 393
  i = 1;
#line 394
  files = 0;
#line 395
  dashfile = 0;
  {
  {
#line 396
  while (1) {
    while_continue___2: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 396
    if (! (i < argc)) {
#line 396
      goto while_break;
    }
#line 398
    ptr = *(argv + i);
#line 399
    if ((int )*(ptr + 0) == 45) {
#line 399
      if (! dashfile) {
#line 401
        j = 1;
        {
        {
#line 402
        while (1) {
          while_continue___3: /* CIL Label */ ;
          while_continue___0: /* CIL Label */ ;
#line 402
          if (! ((int )*(ptr + j) != 0)) {
#line 402
            goto while_break___0;
          }
          {
#line 408
          if ((int )*(ptr + j) == 104) {
#line 408
            goto case_104;
          }
#line 408
          if ((int )*(ptr + j) == 72) {
#line 408
            goto case_104;
          }
#line 408
          if ((int )*(ptr + j) == 63) {
#line 408
            goto case_104;
          }
#line 413
          if ((int )*(ptr + j) == 99) {
#line 413
            goto case_99;
          }
#line 413
          if ((int )*(ptr + j) == 86) {
#line 413
            goto case_99;
          }
#line 422
          if ((int )*(ptr + j) == 110) {
#line 422
            goto case_110;
          }
#line 425
          if ((int )*(ptr + j) == 113) {
#line 425
            goto case_113;
          }
#line 428
          if ((int )*(ptr + j) == 118) {
#line 428
            goto case_118;
          }
#line 431
          if ((int )*(ptr + j) == 120) {
#line 431
            goto case_120;
          }
#line 434
          if ((int )*(ptr + j) == 45) {
#line 434
            goto case_45;
          }
#line 437
          goto switch_default;
          case_104: /* CIL Label */ 
          case_72: /* CIL Label */ 
          case_63: /* CIL Label */ 
          {
          {
#line 409
          usage();
          }
          {
#line 410
          exit(0);
          }
          }
#line 411
          goto switch_break;
          case_99: /* CIL Label */ 
          case_86: /* CIL Label */ 
          {
          {
#line 414
          printf((char const   */* __restrict  */)"since : Version %s\n", "0.5");
          }
          {
#line 415
          printf((char const   */* __restrict  */)"        Copyright (c) 1998 by Marc Welz\n");
          }
          {
#line 416
          printf((char const   */* __restrict  */)"        May only be distributed in accordance with the terms of the GNU\n");
          }
          {
#line 418
          printf((char const   */* __restrict  */)"        General Public License as published by the Free Software Foundation\n");
          }
          {
#line 420
          exit(0);
          }
          }
#line 421
          goto switch_break;
          case_110: /* CIL Label */ 
#line 423
          update = 0;
#line 424
          goto switch_break;
          case_113: /* CIL Label */ 
#line 426
          verbose --;
#line 427
          goto switch_break;
          case_118: /* CIL Label */ 
#line 429
          verbose ++;
#line 430
          goto switch_break;
          case_120: /* CIL Label */ 
#line 432
          exclude ++;
#line 433
          goto switch_break;
          case_45: /* CIL Label */ 
#line 435
          dashfile = 1;
#line 436
          goto switch_break;
          switch_default: /* CIL Label */ 
          {
          {
#line 438
          fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: Unrecognized option -%c, try -h for help\n",
                  (int )*(ptr + j));
          }
          {
#line 441
          exit(64);
          }
          }
#line 442
          goto switch_break;
          switch_break: /* CIL Label */ ;
          }
#line 444
          j ++;
        }
        while_break___3: /* CIL Label */ ;
        }
        while_break___0: /* CIL Label */ ;
        }
      } else {
#line 449
        files ++;
      }
    } else {
#line 449
      files ++;
    }
#line 451
    i ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 454
  if (files == 0) {
    {
    {
#line 456
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: Insufficient arguments, try -h for help\n");
    }
    {
#line 457
    exit(64);
    }
    }
  }
  {
  {
#line 461
  sincename = getenv("SINCE");
  }
  }
#line 462
  if ((unsigned long )sincename == (unsigned long )((void *)0)) {
    {
    {
#line 464
    sincename = getenv("HOME");
    }
    }
#line 465
    if (sincename) {
      {
      {
#line 467
      snprintf((char */* __restrict  */)(buffer), (size_t )256, (char const   */* __restrict  */)"%s/.since",
               sincename);
      }
      }
    } else {
      {
      {
#line 471
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: warning falling back to %s\n",
              "/tmp/since");
      }
      {
#line 473
      strcpy((char */* __restrict  */)(buffer), (char const   */* __restrict  */)"/tmp/since");
      }
      }
    }
#line 475
    sincename = buffer;
  }
#line 478
  if (update) {
#line 478
    tmp = 2;
  } else {
#line 478
    tmp = 0;
  }
  {
#line 478
  sflags = 64 | tmp;
  {
#line 484
  sfd = open((char const   *)sincename, sflags, 384);
  }
  }
#line 485
  if (sfd == -1) {
    {
    {
#line 487
    tmp___0 = __errno_location();
    }
    {
#line 487
    tmp___1 = strerror(*tmp___0);
    }
    {
#line 487
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: could not open .since file %s: %s\n",
            sincename, tmp___1);
    }
    {
#line 489
    exit(71);
    }
    }
  }
#line 493
  if (update) {
#line 493
    tmp___2 = "r+";
  } else {
#line 493
    tmp___2 = "r";
  }
  {
  {
#line 493
  since = fdopen(sfd, tmp___2);
  }
  }
#line 495
  if ((unsigned long )since == (unsigned long )((void *)0)) {
    {
    {
#line 497
    tmp___3 = __errno_location();
    }
    {
#line 497
    tmp___4 = strerror(*tmp___3);
    }
    {
#line 497
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: could not open .since file %s: %s\n",
            sincename, tmp___4);
    }
    {
#line 499
    exit(65);
    }
    }
  }
  {
  {
#line 502
  prepare_format();
  }
  {
#line 504
  signal(13, (void (*)(int  ))1);
  }
#line 507
  i = 1;
#line 508
  dashfile = 0;
  }
  {
  {
#line 509
  while (1) {
    while_continue___4: /* CIL Label */ ;
    while_continue___1: /* CIL Label */ ;
#line 509
    if (! (i < argc)) {
#line 509
      goto while_break___1;
    }
#line 511
    ptr = *(argv + i);
#line 512
    if ((int )*(ptr + 0) == 45) {
#line 512
      if (! dashfile) {
#line 514
        if ((int )*(ptr + 1) == 45) {
#line 516
          dashfile = 1;
        }
      } else {
#line 512
        goto _L___4;
      }
    } else {
      _L___4: /* CIL Label */ 
#line 521
      if (files > 1) {
#line 521
        if (verbose > 0) {
          {
          {
#line 523
          printf((char const   */* __restrict  */)"==> %s ", *(argv + i));
          }
          }
        } else {
#line 521
          goto _L;
        }
      } else
      _L: /* CIL Label */ 
#line 521
      if (verbose > 1) {
        {
        {
#line 523
        printf((char const   */* __restrict  */)"==> %s ", *(argv + i));
        }
        }
      }
#line 525
      if (exclude) {
        {
        {
#line 525
        tmp___8 = test_exclusion(*(argv + i));
        }
        }
#line 525
        if (tmp___8) {
#line 527
          if (files > 1) {
#line 527
            if (verbose > 0) {
              {
              {
#line 529
              printf((char const   */* __restrict  */)"[excluded] <==\n");
              }
              }
            } else {
#line 527
              goto _L___0;
            }
          } else
          _L___0: /* CIL Label */ 
#line 527
          if (verbose > 1) {
            {
            {
#line 529
            printf((char const   */* __restrict  */)"[excluded] <==\n");
            }
            }
          }
        } else {
#line 525
          goto _L___3;
        }
      } else {
        _L___3: /* CIL Label */ 
        {
        {
#line 534
        fd = open((char const   *)ptr, 0);
        }
        }
#line 535
        if (fd == -1) {
          {
          {
#line 537
          tmp___5 = __errno_location();
          }
          {
#line 537
          tmp___6 = strerror(*tmp___5);
          }
          {
#line 537
          fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: can not open or stat file %s: %s\n",
                  ptr, tmp___6);
          }
          }
        } else {
          {
          {
#line 535
          tmp___7 = fstat(fd, & st);
          }
          }
#line 535
          if (tmp___7) {
            {
            {
#line 537
            tmp___5 = __errno_location();
            }
            {
#line 537
            tmp___6 = strerror(*tmp___5);
            }
            {
#line 537
            fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"since: can not open or stat file %s: %s\n",
                    ptr, tmp___6);
            }
            }
          } else {
            {
            {
#line 544
            seekdest = sincefile(since, & st, update);
            }
            }
#line 545
            if (verbose > 1) {
              {
              {
#line 547
              printf((char const   */* __restrict  */)(since_format), st.st_dev, st.st_ino,
                     seekdest);
              }
              {
#line 548
              printf((char const   */* __restrict  */)"    ");
              }
              }
            }
#line 551
            if (seekdest == st.st_size) {
#line 553
              if (files > 1) {
#line 553
                if (verbose > 0) {
                  {
                  {
#line 555
                  printf((char const   */* __restrict  */)"[nothing new] <==\n");
                  }
                  }
                } else {
#line 553
                  goto _L___1;
                }
              } else
              _L___1: /* CIL Label */ 
#line 553
              if (verbose > 1) {
                {
                {
#line 555
                printf((char const   */* __restrict  */)"[nothing new] <==\n");
                }
                }
              }
            } else {
#line 560
              if (files > 1) {
#line 560
                if (verbose > 0) {
                  {
                  {
#line 562
                  printf((char const   */* __restrict  */)"<==\n");
                  }
                  }
                } else {
#line 560
                  goto _L___2;
                }
              } else
              _L___2: /* CIL Label */ 
#line 560
              if (verbose > 1) {
                {
                {
#line 562
                printf((char const   */* __restrict  */)"<==\n");
                }
                }
              }
              {
              {
#line 565
              disp_file(fd, seekdest);
              }
              }
            }
            {
            {
#line 567
            close(fd);
            }
            }
          }
        }
      }
    }
#line 571
    i ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___1: /* CIL Label */ ;
  }
  {
  {
#line 574
  fclose(since);
  }
  {
#line 576
  exit(0);
  }
  }
#line 579
  return (0);
}
}
