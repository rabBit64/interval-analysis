/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 56 "/usr/include/bits/types.h"
typedef long long __quad_t;
#line 141 "/usr/include/bits/types.h"
typedef long __off_t;
#line 142 "/usr/include/bits/types.h"
typedef __quad_t __off64_t;
#line 211 "/usr/lib/gcc/i486-linux-gnu/4.4.3/include/stddef.h"
typedef unsigned int size_t;
#line 45 "/usr/include/stdio.h"
struct _IO_FILE;
#line 49 "/usr/include/stdio.h"
typedef struct _IO_FILE FILE;
#line 180 "/usr/include/libio.h"
typedef void _IO_lock_t;
#line 186 "/usr/include/libio.h"
struct _IO_marker {
   struct _IO_marker *_next ;
   struct _IO_FILE *_sbuf ;
   int _pos ;
};
#line 271 "/usr/include/libio.h"
struct _IO_FILE {
   int _flags ;
   char *_IO_read_ptr ;
   char *_IO_read_end ;
   char *_IO_read_base ;
   char *_IO_write_base ;
   char *_IO_write_ptr ;
   char *_IO_write_end ;
   char *_IO_buf_base ;
   char *_IO_buf_end ;
   char *_IO_save_base ;
   char *_IO_backup_base ;
   char *_IO_save_end ;
   struct _IO_marker *_markers ;
   struct _IO_FILE *_chain ;
   int _fileno ;
   int _flags2 ;
   __off_t _old_offset ;
   unsigned short _cur_column ;
   signed char _vtable_offset ;
   char _shortbuf[1] ;
   _IO_lock_t *_lock ;
   __off64_t _offset ;
   void *__pad1 ;
   void *__pad2 ;
   void *__pad3 ;
   void *__pad4 ;
   size_t __pad5 ;
   int _mode ;
   char _unused2[(15UL * sizeof(int ) - 4UL * sizeof(void *)) - sizeof(size_t )] ;
};
#line 32 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/mytypes.h"
typedef int BOOL;
#line 33 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/mytypes.h"
typedef unsigned char uschar;
#line 13 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
struct istackstr {
   struct istackstr *prev ;
   int linenumber ;
   FILE *file ;
   uschar filename[256] ;
};
#line 13 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
typedef struct istackstr istackstr;
#line 22 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
struct flagstr {
   struct flagstr *next ;
   int length1 ;
   uschar *flag1 ;
   uschar *rep1 ;
   int length2 ;
   uschar *flag2 ;
   uschar *rep2 ;
};
#line 22 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
typedef struct flagstr flagstr;
#line 34 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
struct pushstr {
   struct pushstr *next ;
   int letter ;
   uschar string[1] ;
};
#line 34 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
typedef struct pushstr pushstr;
#line 42 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
struct argstr {
   struct argstr *next ;
   uschar *string ;
};
#line 42 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
typedef struct argstr argstr;
#line 49 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
struct macrodef {
   struct macrodef *next ;
   argstr *lines ;
   argstr *args ;
   uschar *name ;
   int namelength ;
};
#line 49 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
typedef struct macrodef macrodef;
#line 59 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
struct macroexe {
   struct macroexe *prev ;
   macrodef *macro ;
   argstr *args ;
   argstr *nextline ;
};
#line 59 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
typedef struct macroexe macroexe;
#line 68 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
struct tree_node {
   struct tree_node *left ;
   struct tree_node *right ;
   uschar *data ;
   uschar balance ;
   uschar name[1] ;
};
#line 68 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/structs.h"
typedef struct tree_node tree_node;
#line 724 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
struct dirstr {
   uschar *name ;
   int length ;
   void (*function)(uschar * ) ;
   BOOL onearg ;
   BOOL okinline ;
};
#line 724 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
typedef struct dirstr dirstr;
#line 40 "/usr/lib/gcc/i486-linux-gnu/4.4.3/include/stdarg.h"
typedef __builtin_va_list __gnuc_va_list;
#line 102 "/usr/lib/gcc/i486-linux-gnu/4.4.3/include/stdarg.h"
typedef __gnuc_va_list va_list;
#line 36 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/error.c"
struct __anonstruct_error_struct_27 {
   char ec ;
   char const   *text ;
};
#line 36 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/error.c"
typedef struct __anonstruct_error_struct_27 error_struct;
#line 81 "/usr/include/ctype.h"
extern  __attribute__((__nothrow__)) unsigned short const   **__ctype_b_loc(void)  __attribute__((__const__)) ;
#line 147 "/usr/include/stdio.h"
extern struct _IO_FILE *stderr ;
#line 249
extern FILE *fopen(char const   * __restrict  __filename , char const   * __restrict  __modes ) ;
#line 333
extern int fprintf(FILE * __restrict  __stream , char const   * __restrict  __format 
                   , ...) ;
#line 341
extern  __attribute__((__nothrow__)) int sprintf(char * __restrict  __s , char const   * __restrict  __format 
                                                 , ...) ;
#line 488 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) void free(void *__ptr ) ;
#line 43 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__nonnull__(1,2))) memcpy)(void * __restrict  __dest ,
                                                                                       void const   * __restrict  __src ,
                                                                                       size_t __n ) ;
#line 127
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2))) strcpy)(char * __restrict  __dest ,
                                                                                       char const   * __restrict  __src ) ;
#line 130
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2))) strncpy)(char * __restrict  __dest ,
                                                                                        char const   * __restrict  __src ,
                                                                                        size_t __n ) ;
#line 142
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2))) strcmp)(char const   *__s1 ,
                                                                                     char const   *__s2 )  __attribute__((__pure__)) ;
#line 145
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2))) strncmp)(char const   *__s1 ,
                                                                                      char const   *__s2 ,
                                                                                      size_t __n )  __attribute__((__pure__)) ;
#line 233
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1))) strchr)(char const   *__s ,
                                                                                     int __c )  __attribute__((__pure__)) ;
#line 397
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__nonnull__(1))) strlen)(char const   *__s )  __attribute__((__pure__)) ;
#line 411
extern  __attribute__((__nothrow__)) char *strerror(int __errnum ) ;
#line 43 "/usr/include/bits/errno.h"
extern  __attribute__((__nothrow__)) int *__errno_location(void)  __attribute__((__const__)) ;
#line 15 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.h"
uschar *xfpt_share ;
#line 18
tree_node *entities ;
#line 20
flagstr *flaglist ;
#line 21
int from_type[20] ;
#line 22
int from_type_ptr ;
#line 25
istackstr *istack ;
#line 27
int literal_state ;
#line 29
int nest_level ;
#line 30
int nest_literal_stack[4] ;
#line 31
uschar *next_line ;
#line 33
macroexe *macrocurrent ;
#line 34
macrodef *macrolist ;
#line 36
argstr *macro_argbase ;
#line 37
argstr *macro_starteach ;
#line 39
FILE *outfile ;
#line 41
int para_inline_macro ;
#line 43
int popto ;
#line 44
pushstr *pushed ;
#line 47
uschar *revision ;
#line 10 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/functions.h"
void dot_process(uschar *p ) ;
#line 11
void error(int n  , ...) ;
#line 13
uschar *misc_copystring(uschar *p , int length ) ;
#line 14
void misc_detrail(uschar *p ) ;
#line 15
void *misc_malloc(int size ) ;
#line 16
uschar *misc_readitem(uschar *p , uschar *term , int *lptr , uschar *buffer , int blength ) ;
#line 17
uschar *misc_readstring(uschar *p , int *lptr , uschar *buffer , int blength ) ;
#line 21
uschar *read_nextline(void) ;
#line 25
int tree_insertnode(tree_node **treebase , tree_node *node ) ;
#line 18 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static uschar *circumflexes  =    (unsigned char *)"^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^";
#line 20 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static uschar *spaces  =    (unsigned char *)"                                                                         ";
#line 22 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static uschar *thisdir  =    (uschar *)((void *)0);
#line 36 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static int readnumber(uschar *p ) 
{ 
  int n ;
  unsigned short const   **tmp ;
  uschar *tmp___0 ;
  unsigned short const   **tmp___1 ;
  unsigned short const   **tmp___2 ;

  {
  {
#line 39
  n = 0;
  {
#line 40
  tmp = __ctype_b_loc();
  }
  }
#line 40
  if (! ((int const   )*(*tmp + (int )*p) & 2048)) {
    {
    {
#line 40
    error(11, thisdir);
    }
    }
#line 40
    return (-1);
  }
  {
  {
#line 41
  while (1) {
    while_continue___1: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
    {
    {
#line 41
    tmp___1 = __ctype_b_loc();
    }
    }
#line 41
    if (! ((int const   )*(*tmp___1 + (int )*p) & 2048)) {
#line 41
      goto while_break;
    }
#line 41
    tmp___0 = p;
#line 41
    p ++;
#line 41
    n = (n * 10 + (int )*tmp___0) - 48;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
  {
  {
#line 42
  while (1) {
    while_continue___2: /* CIL Label */ ;
    while_continue___0: /* CIL Label */ ;
    {
    {
#line 42
    tmp___2 = __ctype_b_loc();
    }
    }
#line 42
    if (! ((int const   )*(*tmp___2 + (int )*p) & 8192)) {
#line 42
      goto while_break___0;
    }
#line 42
    p ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 43
  if ((int )*p != 0) {
    {
    {
#line 43
    error(11, thisdir);
    }
    }
#line 43
    return (-1);
  }
#line 44
  return (n);
}
}
#line 63 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void skipto(uschar *s , uschar *t ) 
{ 
  int nest ;
  int slength ;
  size_t tmp ;
  int tlength ;
  size_t tmp___0 ;
  BOOL done ;
  uschar *p ;
  int tmp___1 ;
  unsigned short const   **tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  unsigned short const   **tmp___6 ;
  macroexe *temp ;

  {
  {
#line 66
  nest = -1;
  {
#line 67
  tmp = strlen((char const   *)s);
  }
#line 67
  slength = (int )tmp;
  {
#line 68
  tmp___0 = strlen((char const   *)t);
  }
#line 68
  tlength = (int )tmp___0;
#line 69
  done = (unsigned long )macrocurrent->nextline == (unsigned long )((void *)0);
  }
  {
  {
#line 70
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 70
    if (! (! done)) {
#line 70
      goto while_break;
    }
    {
#line 72
    p = (macrocurrent->nextline)->string;
    {
#line 73
    tmp___1 = strncmp((char const   *)p, (char const   *)t, (size_t )tlength);
    }
    }
#line 73
    if (tmp___1 == 0) {
#line 73
      if ((int )*(p + tlength) == 0) {
#line 73
        goto _L;
      } else {
        {
        {
#line 73
        tmp___2 = __ctype_b_loc();
        }
        }
#line 73
        if ((int const   )*(*tmp___2 + (int )*(p + tlength)) & 8192) {
          _L: /* CIL Label */ 
#line 73
          tmp___3 = nest;
#line 73
          nest --;
#line 73
          if (tmp___3 <= 0) {
#line 73
            tmp___4 = 1;
          } else {
#line 73
            tmp___4 = 0;
          }
        } else {
#line 73
          tmp___4 = 0;
        }
      }
    } else {
#line 73
      tmp___4 = 0;
    }
    {
#line 73
    done = tmp___4;
    {
#line 76
    tmp___5 = strncmp((char const   *)p, (char const   *)s, (size_t )slength);
    }
    }
#line 76
    if (tmp___5 == 0) {
#line 76
      if ((int )*(p + slength) == 0) {
#line 77
        nest ++;
      } else {
        {
        {
#line 76
        tmp___6 = __ctype_b_loc();
        }
        }
#line 76
        if ((int const   )*(*tmp___6 + (int )*(p + slength)) & 8192) {
#line 77
          nest ++;
        }
      }
    }
#line 78
    macrocurrent->nextline = (macrocurrent->nextline)->next;
#line 79
    if ((unsigned long )macrocurrent->nextline == (unsigned long )((void *)0)) {
      {
#line 81
      temp = macrocurrent;
#line 82
      macrocurrent = macrocurrent->prev;
      {
#line 83
      free((void *)temp);
      }
#line 84
      from_type_ptr --;
      }
#line 85
      goto while_break;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 88
  return;
}
}
#line 107 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_arg(uschar *p ) 
{ 
  BOOL mustexist ;
  argstr *arg ;
  int i ;
  int argn ;
  int tmp ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
#line 110
  mustexist = 1;
#line 114
  if (from_type[from_type_ptr] != 1) {
    {
    {
#line 114
    error(15, (unsigned char *)".arg");
    }
    }
#line 114
    return;
  }
#line 116
  if ((int )*p == 45) {
#line 118
    mustexist = 0;
#line 119
    p ++;
  }
  {
  {
#line 122
  argn = readnumber(p);
  }
  }
#line 123
  if (argn < 0) {
#line 123
    return;
  }
#line 125
  arg = macrocurrent->args;
#line 126
  i = 1;
  {
  {
#line 126
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 126
    if ((unsigned long )arg != (unsigned long )((void *)0)) {
#line 126
      if (! (i < argn)) {
#line 126
        goto while_break;
      }
    } else {
#line 126
      goto while_break;
    }
#line 126
    arg = arg->next;
#line 126
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 128
  if ((unsigned long )arg != (unsigned long )((void *)0)) {
#line 128
    if ((int )*(arg->string + 0) != 0) {
#line 128
      tmp = 1;
    } else {
#line 128
      tmp = 0;
    }
  } else {
#line 128
    tmp = 0;
  }
#line 128
  if (mustexist != tmp) {
    {
    {
#line 129
    skipto((unsigned char *)".arg", (unsigned char *)".endarg");
    }
    }
  }
#line 130
  return;
}
}
#line 145 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_eacharg(uschar *p ) 
{ 
  argstr *arg ;
  int argn ;
  int i ;
  int tmp ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
#line 151
  if (from_type[from_type_ptr] != 1) {
    {
    {
#line 151
    error(15, (unsigned char *)".eacharg");
    }
    }
#line 151
    return;
  }
#line 153
  if ((int )*p == 0) {
#line 153
    argn = 1;
  } else {
    {
    {
#line 153
    tmp = readnumber(p);
    }
#line 153
    argn = tmp;
    }
  }
#line 154
  if (argn < 0) {
#line 154
    return;
  }
#line 156
  arg = macrocurrent->args;
#line 157
  i = 1;
  {
  {
#line 157
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 157
    if ((unsigned long )arg != (unsigned long )((void *)0)) {
#line 157
      if (! (i < argn)) {
#line 157
        goto while_break;
      }
    } else {
#line 157
      goto while_break;
    }
#line 157
    arg = arg->next;
#line 157
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 162
  if ((unsigned long )arg == (unsigned long )((void *)0)) {
    {
    {
#line 162
    skipto((unsigned char *)"eacharg", (unsigned char *)".endeach");
    }
    }
  } else {
#line 164
    macro_argbase = arg;
#line 165
    macro_starteach = macrocurrent->nextline;
  }
#line 167
  return;
}
}
#line 181 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_echo(uschar *p ) 
{ 
  char *__cil_tmp2 ;

  {
  {
  {
#line 184
  fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%s\n",
          p);
  }
  }
#line 185
  return;
}
}
#line 200 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_endarg(uschar *p ) 
{ 
  size_t tmp ;
  char *__cil_tmp3 ;
  char *__cil_tmp4 ;

  {
#line 203
  if (from_type[from_type_ptr] != 1) {
    {
    {
#line 203
    error(15, (unsigned char *)".endarg");
    }
    }
#line 203
    return;
  }
#line 204
  if ((int )*p != 0) {
    {
    {
#line 204
    tmp = strlen((char const   *)p);
    }
    {
#line 204
    error(19, ".endarg", p, 8, spaces, (int )tmp, circumflexes);
    }
    }
  }
#line 205
  return;
}
}
#line 221 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_endeach(uschar *p ) 
{ 
  int count ;
  int tmp ;
  int tmp___0 ;
  char *__cil_tmp5 ;

  {
#line 226
  if (from_type[from_type_ptr] != 1) {
    {
    {
#line 226
    error(15, (unsigned char *)".endeach");
    }
    }
#line 226
    return;
  }
#line 228
  if ((int )*p == 0) {
#line 228
    count = 1;
  } else {
    {
    {
#line 228
    tmp = readnumber(p);
    }
#line 228
    count = tmp;
    }
  }
#line 229
  if (count < 0) {
#line 229
    return;
  }
  {
  {
#line 231
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 231
    tmp___0 = count;
#line 231
    count --;
#line 231
    if (tmp___0 > 0) {
#line 231
      if (! ((unsigned long )macro_argbase != (unsigned long )((void *)0))) {
#line 231
        goto while_break;
      }
    } else {
#line 231
      goto while_break;
    }
#line 232
    macro_argbase = macro_argbase->next;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 234
  if ((unsigned long )macro_argbase == (unsigned long )((void *)0)) {
#line 234
    macro_starteach = (argstr *)((void *)0);
  } else {
#line 235
    macrocurrent->nextline = macro_starteach;
  }
#line 236
  return;
}
}
#line 252 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_endinliteral(uschar *p ) 
{ 
  size_t tmp ;
  char *__cil_tmp3 ;
  char *__cil_tmp4 ;

  {
#line 255
  if (from_type[from_type_ptr] != 1) {
    {
    {
#line 255
    error(15, (unsigned char *)".endinliteral");
    }
    }
#line 255
    return;
  }
#line 256
  if ((int )*p != 0) {
    {
    {
#line 256
    tmp = strlen((char const   *)p);
    }
    {
#line 256
    error(19, ".endinliteral", p, 8, spaces, (int )tmp, circumflexes);
    }
    }
  }
#line 257
  return;
}
}
#line 278 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_flag(uschar *p ) 
{ 
  uschar *pp ;
  uschar *q ;
  int length ;
  int term ;
  flagstr *f ;
  flagstr **ff ;
  void *tmp ;
  uschar *tmp___0 ;
  unsigned short const   **tmp___1 ;
  size_t tmp___2 ;
  unsigned short const   **tmp___3 ;
  uschar *tmp___4 ;
  unsigned short const   **tmp___5 ;
  unsigned short const   **tmp___6 ;

  {
  {
  {
#line 285
  tmp = misc_malloc((int )sizeof(flagstr ));
  }
#line 285
  f = (flagstr *)tmp;
#line 289
  tmp___0 = p;
#line 289
  p ++;
  }
#line 289
  if ((int )*tmp___0 != 38) {
    {
    {
#line 289
    error(9);
    }
    }
#line 289
    return;
  }
#line 291
  pp = p;
  {
  {
#line 291
  while (1) {
    while_continue___5: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 291
    if ((int )*pp != 0) {
      {
      {
#line 291
      tmp___1 = __ctype_b_loc();
      }
      }
#line 291
      if ((int const   )*(*tmp___1 + (int )*pp) & 8192) {
#line 291
        goto while_break;
      }
    } else {
#line 291
      goto while_break;
    }
#line 291
    pp ++;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 292
  length = (int )(pp - p);
#line 293
  if (length == 0) {
    {
    {
#line 293
    error(10);
    }
    }
#line 293
    return;
  }
  {
#line 295
  f->length1 = length;
  {
#line 296
  f->flag1 = misc_copystring(p, length);
  }
  {
#line 301
  tmp___2 = strlen((char const   *)pp);
  }
#line 301
  q = pp + (int )tmp___2;
#line 302
  q --;
  }
#line 302
  if ((int )*q != 34) {
#line 302
    if ((int )*q != 39) {
      {
      {
#line 302
      error(11, thisdir);
      }
      }
#line 302
      return;
    }
  }
#line 304
  term = (int )*q;
  {
  {
#line 305
  while (1) {
    while_continue___6: /* CIL Label */ ;
    while_continue___0: /* CIL Label */ ;
#line 305
    q --;
#line 305
    if (! ((unsigned long )q > (unsigned long )pp)) {
#line 305
      goto while_break___0;
    }
#line 307
    if ((int )*q == term) {
#line 307
      if ((int )*(q + -1) == term) {
#line 307
        q --;
      } else {
#line 307
        goto while_break___0;
      }
    }
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 310
  if ((unsigned long )q <= (unsigned long )pp) {
    {
    {
#line 310
    error(11, thisdir);
    }
    }
#line 310
    return;
  }
  {
  {
#line 315
  while (1) {
    while_continue___7: /* CIL Label */ ;
    while_continue___1: /* CIL Label */ ;
    {
    {
#line 315
    tmp___3 = __ctype_b_loc();
    }
    }
#line 315
    if (! ((int const   )*(*tmp___3 + (int )*pp) & 8192)) {
#line 315
      goto while_break___1;
    }
#line 315
    pp ++;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 316
  if ((unsigned long )pp == (unsigned long )q) {
    {
    {
#line 318
    f->rep1 = misc_readstring(q, (int *)((void *)0), (uschar *)((void *)0), 0);
    }
#line 319
    f->length2 = 0;
#line 320
    tmp___4 = (uschar *)((void *)0);
#line 320
    f->rep2 = tmp___4;
#line 320
    f->flag2 = tmp___4;
    }
  } else {
    {
    {
#line 327
    f->rep2 = misc_readstring(q, (int *)((void *)0), (uschar *)((void *)0), 0);
    }
#line 328
    p = pp;
    }
    {
    {
#line 329
    while (1) {
      while_continue___8: /* CIL Label */ ;
      while_continue___2: /* CIL Label */ ;
#line 329
      if ((int )*pp != 0) {
        {
        {
#line 329
        tmp___5 = __ctype_b_loc();
        }
        }
#line 329
        if ((int const   )*(*tmp___5 + (int )*pp) & 8192) {
#line 329
          goto while_break___2;
        }
      } else {
#line 329
        goto while_break___2;
      }
#line 329
      pp ++;
    }
    while_break___8: /* CIL Label */ ;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 330
    length = (int )(pp - p);
#line 331
    if (length == 0) {
      {
      {
#line 331
      error(10);
      }
      }
#line 331
      return;
    }
    {
#line 332
    f->length2 = length;
    {
#line 333
    f->flag2 = misc_copystring(p, length);
    }
    }
    {
    {
#line 334
    while (1) {
      while_continue___9: /* CIL Label */ ;
      while_continue___3: /* CIL Label */ ;
      {
      {
#line 334
      tmp___6 = __ctype_b_loc();
      }
      }
#line 334
      if (! ((int const   )*(*tmp___6 + (int )*pp) & 8192)) {
#line 334
        goto while_break___3;
      }
#line 334
      pp ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___3: /* CIL Label */ ;
    }
#line 335
    if ((int )*pp != 34) {
#line 335
      if ((int )*pp != 39) {
        {
        {
#line 335
        error(11, thisdir);
        }
        }
#line 335
        return;
      }
    }
    {
    {
#line 336
    f->rep1 = misc_readstring(pp, & length, (uschar *)((void *)0), 0);
    }
    }
#line 337
    if ((unsigned long )(pp + length) >= (unsigned long )q) {
      {
      {
#line 337
      error(11, thisdir);
      }
      }
#line 337
      return;
    }
  }
#line 343
  ff = & flaglist;
  {
  {
#line 344
  while (1) {
    while_continue___10: /* CIL Label */ ;
    while_continue___4: /* CIL Label */ ;
#line 344
    if ((unsigned long )*ff != (unsigned long )((void *)0)) {
#line 344
      if (! (f->length1 < (*ff)->length1)) {
#line 344
        goto while_break___4;
      }
    } else {
#line 344
      goto while_break___4;
    }
#line 344
    ff = & (*ff)->next;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___4: /* CIL Label */ ;
  }
#line 345
  f->next = *ff;
#line 346
  *ff = f;
#line 347
  return;
}
}
#line 361 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_include(uschar *p ) 
{ 
  istackstr *ist ;
  void *tmp ;
  char *tmp___0 ;
  int *tmp___1 ;
  char *tmp___2 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
  {
  {
#line 366
  tmp = misc_malloc((int )sizeof(istackstr ));
  }
#line 366
  ist = (istackstr *)tmp;
#line 367
  ist->prev = istack;
#line 368
  istack = ist;
#line 369
  ist->linenumber = 0;
  {
#line 371
  tmp___0 = strchr((char const   *)p, '/');
  }
  }
#line 371
  if ((unsigned long )((unsigned char *)tmp___0) != (unsigned long )((void *)0)) {
    {
    {
#line 371
    strcpy((char */* __restrict  */)((char *)(ist->filename)), (char const   */* __restrict  */)((char const   *)p));
    }
    }
  } else {
    {
    {
#line 372
    sprintf((char */* __restrict  */)((char *)(ist->filename)), (char const   */* __restrict  */)"%s/%s",
            xfpt_share, p);
    }
    }
  }
  {
  {
#line 374
  ist->file = fopen((char const   */* __restrict  */)((char const   *)(ist->filename)),
                    (char const   */* __restrict  */)"rb");
  }
  }
#line 375
  if ((unsigned long )ist->file == (unsigned long )((void *)0)) {
    {
    {
#line 375
    tmp___1 = __errno_location();
    }
    {
#line 375
    tmp___2 = strerror(*tmp___1);
    }
    {
#line 375
    error(0, ist->filename, tmp___2);
    }
    }
  }
#line 377
  from_type_ptr ++;
#line 377
  from_type[from_type_ptr] = 0;
#line 378
  return;
}
}
#line 394 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_inliteral(uschar *p ) 
{ 
  int state ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;

  {
#line 397
  state = -1;
#line 398
  if (from_type[from_type_ptr] != 1) {
    {
    {
#line 398
    error(15, (unsigned char *)".inliteral");
    }
    }
#line 398
    return;
  }
  {
  {
#line 399
  tmp___2 = strcmp((char const   *)p, "layout");
  }
  }
#line 399
  if (tmp___2 == 0) {
#line 399
    state = 1;
  } else {
    {
    {
#line 400
    tmp___1 = strcmp((char const   *)p, "text");
    }
    }
#line 400
    if (tmp___1 == 0) {
#line 400
      state = 2;
    } else {
      {
      {
#line 401
      tmp___0 = strcmp((char const   *)p, "off");
      }
      }
#line 401
      if (tmp___0 == 0) {
#line 401
        state = 0;
      } else {
        {
        {
#line 402
        tmp = strcmp((char const   *)p, "xml");
        }
        }
#line 402
        if (tmp == 0) {
#line 402
          state = 3;
        } else {
          {
          {
#line 403
          error(5, p);
          }
          }
        }
      }
    }
  }
#line 404
  if (literal_state != state) {
    {
    {
#line 404
    skipto((unsigned char *)"inliteral", (unsigned char *)".endinliteral");
    }
    }
  }
#line 405
  return;
}
}
#line 419 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_literal(uschar *p ) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
  {
  {
#line 422
  tmp___2 = strcmp((char const   *)p, "layout");
  }
  }
#line 422
  if (tmp___2 == 0) {
#line 422
    literal_state = 1;
  } else {
    {
    {
#line 423
    tmp___1 = strcmp((char const   *)p, "text");
    }
    }
#line 423
    if (tmp___1 == 0) {
#line 423
      literal_state = 2;
    } else {
      {
      {
#line 424
      tmp___0 = strcmp((char const   *)p, "off");
      }
      }
#line 424
      if (tmp___0 == 0) {
#line 424
        literal_state = 0;
      } else {
        {
        {
#line 425
        tmp = strcmp((char const   *)p, "xml");
        }
        }
#line 425
        if (tmp == 0) {
#line 425
          literal_state = 3;
        } else {
          {
          {
#line 426
          error(5, p);
          }
          }
        }
      }
    }
  }
#line 427
  return;
}
}
#line 441 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_macro(uschar *p ) 
{ 
  int length ;
  int nest ;
  argstr **pp ;
  macrodef *md ;
  void *tmp ;
  size_t tmp___0 ;
  argstr *tmp___1 ;
  argstr *as ;
  void *tmp___2 ;
  argstr *as___0 ;
  uschar *line ;
  uschar *tmp___3 ;
  unsigned short const   **tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  void *tmp___7 ;
  size_t tmp___8 ;
  void *tmp___9 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;

  {
  {
#line 445
  nest = 0;
  {
#line 447
  tmp = misc_malloc((int )sizeof(macrodef ));
  }
#line 447
  md = (macrodef *)tmp;
  {
#line 449
  md->name = misc_readitem(p, (uschar *)((void *)0), & length, (uschar *)((void *)0),
                           0);
  }
  {
#line 450
  tmp___0 = strlen((char const   *)md->name);
  }
#line 450
  md->namelength = (int )tmp___0;
#line 451
  p += length;
  }
#line 453
  if (length == 0) {
    {
    {
#line 455
    error(14);
    }
    }
#line 456
    return;
  }
#line 459
  tmp___1 = (argstr *)((void *)0);
#line 459
  md->args = tmp___1;
#line 459
  md->lines = tmp___1;
#line 460
  md->next = macrolist;
#line 461
  macrolist = md;
#line 463
  pp = & md->args;
  {
  {
#line 464
  while (1) {
    while_continue___1: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 464
    if (! ((int )*p != 0)) {
#line 464
      goto while_break;
    }
    {
    {
#line 466
    tmp___2 = misc_malloc((int )sizeof(argstr ));
    }
#line 466
    as = (argstr *)tmp___2;
#line 467
    as->next = (struct argstr *)((void *)0);
#line 468
    *pp = as;
#line 469
    pp = & as->next;
    {
#line 470
    as->string = misc_readitem(p, (uschar *)((void *)0), & length, (uschar *)((void *)0),
                               0);
    }
#line 471
    p += length;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 474
  pp = & md->lines;
  {
  {
#line 475
  while (1) {
    while_continue___2: /* CIL Label */ ;
    while_continue___0: /* CIL Label */ ;
    {
    {
#line 478
    tmp___3 = read_nextline();
    }
#line 478
    line = tmp___3;
    }
#line 479
    if ((unsigned long )line == (unsigned long )((void *)0)) {
      {
      {
#line 479
      error(13, ".endmacro");
      }
      }
#line 479
      return;
    }
    {
    {
#line 481
    tmp___6 = strncmp((char const   *)line, ".macro ", (size_t )7);
    }
    }
#line 481
    if (tmp___6 == 0) {
#line 481
      nest ++;
    } else {
      {
      {
#line 482
      tmp___5 = strncmp((char const   *)line, ".endmacro", (size_t )9);
      }
      }
#line 482
      if (tmp___5 == 0) {
        {
        {
#line 484
        tmp___4 = __ctype_b_loc();
        }
        }
#line 484
        if ((int const   )*(*tmp___4 + (int )*(line + 9)) & 8192) {
#line 484
          goto _L;
        } else
#line 484
        if ((int )*(line + 9) == 10) {
          _L: /* CIL Label */ 
#line 485
          nest --;
#line 485
          if (nest < 0) {
#line 485
            goto while_break___0;
          }
        }
      }
    }
    {
    {
#line 488
    tmp___7 = misc_malloc((int )sizeof(argstr ));
    }
#line 488
    as___0 = (argstr *)tmp___7;
#line 489
    as___0->next = (struct argstr *)((void *)0);
#line 490
    *pp = as___0;
#line 491
    pp = & as___0->next;
    {
#line 492
    tmp___8 = strlen((char const   *)line);
    }
    {
#line 492
    as___0->string = misc_copystring(line, (int )tmp___8);
    }
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 498
  if ((unsigned long )md->lines == (unsigned long )((void *)0)) {
    {
    {
#line 500
    tmp___9 = misc_malloc((int )sizeof(argstr ));
    }
#line 500
    md->lines = (argstr *)tmp___9;
#line 501
    (md->lines)->next = (struct argstr *)((void *)0);
    {
#line 502
    (md->lines)->string = misc_copystring((unsigned char *)". Dummy line\n", 13);
    }
    }
  }
#line 504
  return;
}
}
#line 520 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_nest(uschar *p ) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
  {
  {
#line 523
  tmp___1 = strcmp((char const   *)p, "begin");
  }
  }
#line 523
  if (tmp___1 == 0) {
#line 525
    if (nest_level >= 3) {
      {
      {
#line 525
      error(27);
      }
      }
    } else {
#line 527
      tmp = nest_level;
#line 527
      nest_level ++;
#line 527
      nest_literal_stack[tmp] = literal_state;
#line 528
      literal_state = 0;
    }
  } else {
    {
    {
#line 531
    tmp___0 = strcmp((char const   *)p, "end");
    }
    }
#line 531
    if (tmp___0 == 0) {
#line 533
      if (nest_level <= 0) {
        {
        {
#line 533
        error(28);
        }
        }
      } else {
#line 534
        nest_level --;
#line 534
        literal_state = nest_literal_stack[nest_level];
      }
    } else {
      {
      {
#line 536
      error(26, p);
      }
      }
    }
  }
#line 537
  return;
}
}
#line 556 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static uschar nonlbuffer[1024]  ;
#line 553 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_nonl(uschar *p ) 
{ 
  int len ;
  size_t tmp ;

  {
  {
  {
#line 557
  tmp = strlen((char const   *)p);
  }
#line 557
  len = (int )tmp + 1;
  }
#line 558
  if (len > 1024) {
#line 558
    len = 1024;
  }
  {
  {
#line 559
  strncpy((char */* __restrict  */)((char *)(nonlbuffer)), (char const   */* __restrict  */)((char const   *)p),
          (size_t )len);
  }
#line 560
  next_line = nonlbuffer;
  }
#line 561
  return;
}
}
#line 577 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_pop(uschar *p ) 
{ 
  pushstr *ps ;
  unsigned short const   **tmp ;

  {
#line 582
  if ((int )*p == 0) {
#line 584
    popto = 0;
#line 585
    return;
  }
  {
  {
#line 588
  tmp = __ctype_b_loc();
  }
  }
#line 588
  if ((int const   )*(*tmp + (int )*p) & 256) {
#line 588
    if ((int )*(p + 1) != 0) {
      {
      {
#line 588
      error(11, thisdir);
      }
      }
#line 588
      return;
    }
  } else {
    {
    {
#line 588
    error(11, thisdir);
    }
    }
#line 588
    return;
  }
#line 590
  ps = pushed;
  {
  {
#line 590
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 590
    if (! ((unsigned long )ps != (unsigned long )((void *)0))) {
#line 590
      goto while_break;
    }
#line 591
    if (ps->letter == (int )*p) {
#line 591
      goto while_break;
    }
#line 590
    ps = ps->next;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 593
  if ((unsigned long )ps != (unsigned long )((void *)0)) {
#line 593
    popto = (int )*p;
  }
#line 594
  return;
}
}
#line 611 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_push(uschar *p ) 
{ 
  int length ;
  int letter ;
  pushstr *ps ;
  uschar *porig ;
  uschar buffer[1024] ;
  uschar *tmp ;
  unsigned short const   **tmp___0 ;
  unsigned short const   **tmp___1 ;
  unsigned short const   **tmp___2 ;
  uschar *s ;
  uschar *tmp___3 ;
  unsigned short const   **tmp___4 ;
  size_t tmp___5 ;
  size_t tmp___6 ;
  void *tmp___7 ;
  void *__cil_tmp17 ;
  char *__cil_tmp18 ;

  {
  {
#line 615
  letter = 0;
#line 617
  porig = p;
  {
#line 620
  tmp___1 = __ctype_b_loc();
  }
  }
#line 620
  if ((int const   )*(*tmp___1 + (int )*p) & 256) {
#line 620
    if ((int )*(p + 1) == 0) {
#line 620
      goto _L;
    } else {
      {
      {
#line 620
      tmp___2 = __ctype_b_loc();
      }
      }
#line 620
      if ((int const   )*(*tmp___2 + (int )*(p + 1)) & 8192) {
        _L: /* CIL Label */ 
#line 622
        tmp = p;
#line 622
        p ++;
#line 622
        letter = (int )*tmp;
        {
        {
#line 623
        while (1) {
          while_continue___1: /* CIL Label */ ;
          while_continue: /* CIL Label */ ;
          {
          {
#line 623
          tmp___0 = __ctype_b_loc();
          }
          }
#line 623
          if (! ((int const   )*(*tmp___0 + (int )*p) & 8192)) {
#line 623
            goto while_break;
          }
#line 623
          p ++;
        }
        while_break___1: /* CIL Label */ ;
        }
        while_break: /* CIL Label */ ;
        }
      }
    }
  }
#line 626
  if ((int )*p == 34) {
    {
    {
#line 628
    tmp___3 = misc_readitem(p, (uschar *)((void *)0), & length, buffer, 1024);
    }
#line 628
    s = tmp___3;
#line 629
    p += length;
    }
    {
    {
#line 630
    while (1) {
      while_continue___2: /* CIL Label */ ;
      while_continue___0: /* CIL Label */ ;
      {
      {
#line 630
      tmp___4 = __ctype_b_loc();
      }
      }
#line 630
      if (! ((int const   )*(*tmp___4 + (int )*p) & 8192)) {
#line 630
        goto while_break___0;
      }
#line 630
      p ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 631
    if ((int )*p != 0) {
      {
      {
#line 631
      tmp___5 = strlen((char const   *)p);
      }
      {
#line 631
      error(19, ".push", porig, (p - porig) + 6L, spaces, (int )tmp___5, circumflexes);
      }
      }
    }
#line 633
    p = s;
  }
  {
  {
#line 636
  tmp___6 = strlen((char const   *)p);
  }
#line 636
  length = (int )tmp___6;
  {
#line 637
  tmp___7 = misc_malloc((int )(sizeof(pushstr ) + (unsigned long )length));
  }
#line 637
  ps = (pushstr *)tmp___7;
#line 638
  ps->letter = letter;
  {
#line 639
  memcpy((void */* __restrict  */)(ps->string), (void const   */* __restrict  */)p,
         (size_t )length);
  }
#line 640
  ps->string[length] = (uschar )0;
#line 641
  ps->next = pushed;
#line 642
  pushed = ps;
  }
#line 643
  return;
}
}
#line 659 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_revision(uschar *p ) 
{ 
  size_t tmp ;
  void *tmp___0 ;
  int tmp___1 ;
  char *__cil_tmp5 ;

  {
#line 662
  if ((unsigned long )revision != (unsigned long )((void *)0)) {
    {
    {
#line 664
    free((void *)revision);
    }
#line 665
    revision = (uschar *)((void *)0);
    }
  }
#line 668
  if ((int )*p != 0) {
    {
    {
#line 668
    tmp___1 = strcmp((char const   *)p, "off");
    }
    }
#line 668
    if (tmp___1 != 0) {
      {
      {
#line 670
      tmp = strlen((char const   *)p);
      }
      {
#line 670
      tmp___0 = misc_malloc((int )tmp + 1);
      }
#line 670
      revision = (uschar *)tmp___0;
      {
#line 671
      strcpy((char */* __restrict  */)((char *)revision), (char const   */* __restrict  */)((char const   *)p));
      }
      }
    }
  }
#line 673
  return;
}
}
#line 688 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_set(uschar *p ) 
{ 
  int length ;
  tree_node *t ;
  uschar *porig ;
  uschar buffer[1024] ;
  uschar *name ;
  uschar *tmp ;
  unsigned short const   **tmp___0 ;
  size_t tmp___1 ;
  void *tmp___2 ;
  unsigned short const   **tmp___3 ;
  size_t tmp___4 ;
  int tmp___5 ;
  void *__cil_tmp14 ;
  char *__cil_tmp15 ;

  {
  {
#line 693
  porig = p;
  {
#line 695
  tmp = misc_readitem(p, (uschar *)((void *)0), & length, buffer, 1024);
  }
#line 695
  name = tmp;
#line 697
  p += length;
  }
  {
  {
#line 698
  while (1) {
    while_continue___1: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
    {
    {
#line 698
    tmp___0 = __ctype_b_loc();
    }
    }
#line 698
    if (! ((int const   )*(*tmp___0 + (int )*p) & 8192)) {
#line 698
      goto while_break;
    }
#line 698
    p ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
  {
  {
#line 700
  tmp___1 = strlen((char const   *)name);
  }
  {
#line 700
  tmp___2 = misc_malloc((int )(sizeof(tree_node ) + (unsigned long )((int )tmp___1)));
  }
#line 700
  t = (tree_node *)tmp___2;
  {
#line 701
  strcpy((char */* __restrict  */)((char *)(t->name)), (char const   */* __restrict  */)((char const   *)name));
  }
  {
#line 703
  t->data = misc_readitem(p, (uschar *)((void *)0), & length, (uschar *)((void *)0),
                          0);
  }
#line 705
  p += length;
  }
  {
  {
#line 706
  while (1) {
    while_continue___2: /* CIL Label */ ;
    while_continue___0: /* CIL Label */ ;
    {
    {
#line 706
    tmp___3 = __ctype_b_loc();
    }
    }
#line 706
    if (! ((int const   )*(*tmp___3 + (int )*p) & 8192)) {
#line 706
      goto while_break___0;
    }
#line 706
    p ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 707
  if ((int )*p != 0) {
    {
    {
#line 707
    tmp___4 = strlen((char const   *)p);
    }
    {
#line 707
    error(19, ".set", porig, (p - porig) + 5L, spaces, (int )tmp___4, circumflexes);
    }
    }
  }
  {
  {
#line 710
  tmp___5 = tree_insertnode(& entities, t);
  }
  }
#line 710
  if (! tmp___5) {
    {
    {
#line 710
    error(21, name);
    }
    }
  }
#line 711
  return;
}
}
#line 733 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static dirstr dirs[17]  = 
#line 733
  {      {(unsigned char *)".arg", 4, & do_arg, 1, 1}, 
        {(unsigned char *)".eacharg", 8, & do_eacharg, 1, 1}, 
        {(unsigned char *)".echo", 5, & do_echo, 1, 0}, 
        {(unsigned char *)".endarg", 7, & do_endarg, 0, 1}, 
        {(unsigned char *)".endeach", 8, & do_endeach, 1, 1}, 
        {(unsigned char *)".endinliteral", 13, & do_endinliteral, 0, 1}, 
        {(unsigned char *)".flag", 5, & do_flag, 0, 0}, 
        {(unsigned char *)".include", 8, & do_include, 1, 0}, 
        {(unsigned char *)".inliteral", 10, & do_inliteral, 1, 1}, 
        {(unsigned char *)".literal", 8, & do_literal, 1, 0}, 
        {(unsigned char *)".macro", 6, & do_macro, 0, 0}, 
        {(unsigned char *)".nest", 5, & do_nest, 1, 0}, 
        {(unsigned char *)".nonl", 5, & do_nonl, 1, 0}, 
        {(unsigned char *)".pop", 4, & do_pop, 1, 0}, 
        {(unsigned char *)".push", 5, & do_push, 0, 0}, 
        {(unsigned char *)".revision", 9, & do_revision, 1, 0}, 
        {(unsigned char *)".set", 4, & do_set, 0, 0}};
#line 753 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static int cmdcount  =    (int )(sizeof(dirs) / sizeof(dirstr ));
#line 768 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
void dot_process(uschar *p ) 
{ 
  macrodef *md ;
  macroexe *me ;
  argstr **pp ;
  int top ;
  int bot ;
  int length ;
  unsigned short const   **tmp ;
  int c ;
  int mid ;
  dirstr *dir ;
  uschar buffer[1024] ;
  unsigned short const   **tmp___0 ;
  int alength ;
  uschar *s ;
  uschar *tmp___1 ;
  size_t tmp___2 ;
  unsigned short const   **tmp___3 ;
  int tmp___4 ;
  unsigned short const   **tmp___5 ;
  void *tmp___6 ;
  unsigned short const   **tmp___7 ;
  argstr *as ;
  void *tmp___8 ;
  void *__cil_tmp25 ;
  char *__cil_tmp26 ;

  {
  {
#line 776
  thisdir = p;
  {
#line 778
  misc_detrail(p);
  }
  }
#line 780
  if ((int )*(p + 1) == 0) {
#line 780
    return;
  } else {
    {
    {
#line 780
    tmp = __ctype_b_loc();
    }
    }
#line 780
    if ((int const   )*(*tmp + (int )*(p + 1)) & 8192) {
#line 780
      return;
    }
  }
#line 784
  bot = 0;
#line 785
  top = cmdcount;
  {
  {
#line 787
  while (1) {
    while_continue___4: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 787
    if (! (top > bot)) {
#line 787
      goto while_break;
    }
    {
#line 790
    mid = (top + bot) / 2;
#line 791
    dir = dirs + mid;
#line 793
    length = dir->length;
    {
#line 794
    c = strncmp((char const   *)p, (char const   *)dir->name, (size_t )length);
    }
    }
#line 800
    if (c == 0) {
#line 800
      if ((int )*(p + length) == 0) {
#line 800
        goto _L;
      } else {
        {
        {
#line 800
        tmp___3 = __ctype_b_loc();
        }
        }
#line 800
        if ((int const   )*(*tmp___3 + (int )*(p + length)) & 8192) {
          _L: /* CIL Label */ 
#line 803
          p += length;
          {
          {
#line 804
          while (1) {
            while_continue___5: /* CIL Label */ ;
            while_continue___0: /* CIL Label */ ;
            {
            {
#line 804
            tmp___0 = __ctype_b_loc();
            }
            }
#line 804
            if (! ((int const   )*(*tmp___0 + (int )*p) & 8192)) {
#line 804
              goto while_break___0;
            }
#line 804
            p ++;
          }
          while_break___5: /* CIL Label */ ;
          }
          while_break___0: /* CIL Label */ ;
          }
#line 806
          if (dir->onearg) {
            {
            {
#line 809
            tmp___1 = misc_readitem(p, (uschar *)((void *)0), & alength, buffer, 1024);
            }
#line 809
            s = tmp___1;
            }
#line 810
            if ((int )*(p + alength) != 0) {
              {
              {
#line 811
              tmp___2 = strlen((char const   *)p);
              }
              {
#line 811
              error(19, dir->name, p, (alength + length) + 1, spaces, (int )tmp___2 - alength,
                    circumflexes);
              }
              }
            }
#line 813
            p = s;
          }
#line 818
          if (para_inline_macro == 0) {
            {
            {
#line 818
            (*(dir->function))(p);
            }
            }
          } else
#line 818
          if (dir->okinline) {
            {
            {
#line 818
            (*(dir->function))(p);
            }
            }
          } else {
            {
            {
#line 819
            error(22, dir->name);
            }
            }
          }
#line 821
          return;
        }
      }
    }
#line 826
    if (c < 0) {
#line 826
      top = mid;
    } else {
#line 826
      bot = mid + 1;
    }
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 832
  if (para_inline_macro > 0) {
    {
    {
#line 834
    error(22, p);
    }
    }
#line 835
    return;
  }
#line 838
  md = macrolist;
  {
  {
#line 838
  while (1) {
    while_continue___6: /* CIL Label */ ;
    while_continue___1: /* CIL Label */ ;
#line 838
    if (! ((unsigned long )md != (unsigned long )((void *)0))) {
#line 838
      goto while_break___1;
    }
    {
#line 840
    length = md->namelength;
    {
#line 841
    tmp___4 = strncmp((char const   *)(p + 1), (char const   *)md->name, (size_t )length);
    }
    }
#line 841
    if (tmp___4 == 0) {
#line 841
      if ((int )*(p + (length + 1)) == 0) {
#line 844
        p += length + 1;
#line 845
        goto while_break___1;
      } else {
        {
        {
#line 841
        tmp___5 = __ctype_b_loc();
        }
        }
#line 841
        if ((int const   )*(*tmp___5 + (int )*(p + (length + 1))) & 8192) {
#line 844
          p += length + 1;
#line 845
          goto while_break___1;
        }
      }
    }
#line 838
    md = md->next;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 852
  if ((unsigned long )md == (unsigned long )((void *)0)) {
    {
#line 857
    if (literal_state == 3) {
#line 857
      goto case_3;
    }
#line 857
    if (literal_state == 2) {
#line 857
      goto case_3;
    }
#line 861
    goto switch_default;
    case_3: /* CIL Label */ 
    case_2: /* CIL Label */ 
    {
    {
#line 858
    fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"%s\n",
            (char *)p);
    }
    }
#line 859
    goto switch_break;
    switch_default: /* CIL Label */ 
    {
    {
#line 862
    error(2, p);
    }
    }
#line 863
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 865
    return;
  }
  {
  {
#line 870
  tmp___6 = misc_malloc((int )sizeof(macroexe ));
  }
#line 870
  me = (macroexe *)tmp___6;
#line 871
  me->prev = macrocurrent;
#line 872
  macrocurrent = me;
#line 873
  me->macro = md;
#line 874
  me->nextline = md->lines;
#line 875
  from_type_ptr ++;
#line 875
  from_type[from_type_ptr] = 1;
#line 877
  me->args = (argstr *)((void *)0);
#line 878
  pp = & me->args;
  }
  {
  {
#line 880
  while (1) {
    while_continue___7: /* CIL Label */ ;
    while_continue___2: /* CIL Label */ ;
    {
    {
#line 880
    tmp___7 = __ctype_b_loc();
    }
    }
#line 880
    if (! ((int const   )*(*tmp___7 + (int )*p) & 8192)) {
#line 880
      goto while_break___2;
    }
#line 880
    p ++;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___2: /* CIL Label */ ;
  }
  {
  {
#line 881
  while (1) {
    while_continue___8: /* CIL Label */ ;
    while_continue___3: /* CIL Label */ ;
#line 881
    if (! ((int )*p != 0)) {
#line 881
      goto while_break___3;
    }
    {
    {
#line 883
    tmp___8 = misc_malloc((int )sizeof(argstr ));
    }
#line 883
    as = (argstr *)tmp___8;
#line 884
    as->next = (struct argstr *)((void *)0);
#line 885
    *pp = as;
#line 886
    pp = & as->next;
    {
#line 887
    as->string = misc_readitem(p, (uschar *)((void *)0), & length, (uschar *)((void *)0),
                               0);
    }
#line 888
    p += length;
    }
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break___3: /* CIL Label */ ;
  }
#line 890
  return;
}
}
#line 145 "/usr/include/stdio.h"
extern struct _IO_FILE *stdin ;
#line 146
extern struct _IO_FILE *stdout ;
#line 214
extern int fclose(FILE *__stream ) ;
#line 543 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__, __noreturn__)) void exit(int __status ) ;
#line 260 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1))) strrchr)(char const   *__s ,
                                                                                      int __c )  __attribute__((__pure__)) ;
#line 16 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.h"
uschar *xfpt_version ;
#line 24
uschar *inbuffer ;
#line 42
uschar *parabuffer ;
#line 46
int return_code ;
#line 12 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/functions.h"
void literal_process(uschar *p ) ;
#line 19
void para_process(uschar *p ) ;
#line 22
uschar *read_paragraph(uschar *p , int *nest_info ) ;
#line 18 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/xfpt.c"
static uschar *xfpt_filename  =    (uschar *)((void *)0);
#line 19 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/xfpt.c"
static uschar *out_filename  =    (uschar *)((void *)0);
#line 28 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/xfpt.c"
static void usage(void) 
{ 
  char *__cil_tmp1 ;

  {
  {
  {
#line 31
  fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Usage: xfpt [-help]\n            [-o <output-file>]\n            [-S <share-directory>]\n            [-v]\n            [input-file]\n");
  }
  }
#line 37
  return;
}
}
#line 50 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/xfpt.c"
static BOOL xfpt_decode_arg(int argc , char **argv ) 
{ 
  int i ;
  uschar *arg ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  uschar *p ;
  int len ;
  size_t tmp___4 ;
  void *tmp___5 ;
  char *tmp___6 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;

  {
#line 54
  i = 1;
  {
  {
#line 54
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 54
    if (! (i < argc)) {
#line 54
      goto while_break;
    }
#line 56
    arg = (unsigned char *)*(argv + i);
#line 57
    if ((int )*arg != 45) {
#line 57
      goto while_break;
    }
    {
    {
#line 58
    tmp___3 = strcmp((char const   *)arg, "-o");
    }
    }
#line 58
    if (tmp___3 == 0) {
#line 60
      i ++;
#line 60
      out_filename = (unsigned char *)*(argv + i);
#line 61
      if ((unsigned long )out_filename == (unsigned long )((void *)0)) {
        {
        {
#line 61
        usage();
        }
        }
#line 61
        return (0);
      }
    } else {
      {
      {
#line 63
      tmp___2 = strcmp((char const   *)arg, "-S");
      }
      }
#line 63
      if (tmp___2 == 0) {
#line 65
        i ++;
#line 65
        xfpt_share = (unsigned char *)*(argv + i);
#line 66
        if ((unsigned long )xfpt_share == (unsigned long )((void *)0)) {
          {
          {
#line 66
          usage();
          }
          }
#line 66
          return (0);
        }
      } else {
        {
        {
#line 68
        tmp___0 = strcmp((char const   *)arg, "-help");
        }
        }
#line 68
        if (tmp___0 == 0) {
          {
          {
#line 70
          usage();
          }
          }
#line 71
          return (0);
        } else {
          {
          {
#line 68
          tmp___1 = strcmp((char const   *)arg, "--help");
          }
          }
#line 68
          if (tmp___1 == 0) {
            {
            {
#line 70
            usage();
            }
            }
#line 71
            return (0);
          } else {
            {
            {
#line 73
            tmp = strcmp((char const   *)arg, "-v");
            }
            }
#line 73
            if (tmp == 0) {
              {
              {
#line 75
              fprintf((FILE */* __restrict  */)stdout, (char const   */* __restrict  */)"xpft version %s\n",
                      xfpt_version);
              }
              {
#line 76
              exit(0);
              }
              }
            } else {
              {
              {
#line 80
              fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"xfpt: unknown option \"%s\"\n",
                      arg);
              }
              {
#line 81
              usage();
              }
              }
#line 82
              return (0);
            }
          }
        }
      }
    }
#line 54
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 88
  if (argc > i + 1) {
    {
    {
#line 90
    usage();
    }
    }
#line 91
    return (0);
  }
#line 97
  xfpt_filename = (unsigned char *)*(argv + i);
#line 98
  if ((unsigned long )xfpt_filename != (unsigned long )((void *)0)) {
#line 98
    if ((unsigned long )out_filename == (unsigned long )((void *)0)) {
      {
      {
#line 101
      tmp___4 = strlen((char const   *)xfpt_filename);
      }
#line 101
      len = (int )tmp___4;
      {
#line 102
      tmp___5 = misc_malloc(len + 5);
      }
#line 102
      out_filename = (uschar *)tmp___5;
      {
#line 103
      strcpy((char */* __restrict  */)((char *)out_filename), (char const   */* __restrict  */)((char const   *)xfpt_filename));
      }
      {
#line 104
      tmp___6 = strrchr((char const   *)out_filename, '.');
      }
#line 104
      p = (unsigned char *)tmp___6;
      }
#line 104
      if ((unsigned long )p != (unsigned long )((void *)0)) {
#line 104
        len = (int )(p - out_filename);
      }
      {
      {
#line 105
      strcpy((char */* __restrict  */)((char *)(out_filename + len)), (char const   */* __restrict  */)".xml");
      }
      }
    }
  }
#line 108
  return (1);
}
}
#line 117 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/xfpt.c"
int main(int argc , char **argv ) 
{ 
  BOOL para_unfinished[4] ;
  uschar *p ;
  uschar *q ;
  BOOL tmp ;
  void *tmp___0 ;
  void *tmp___1 ;
  void *tmp___2 ;
  int *tmp___3 ;
  char *tmp___4 ;
  int *tmp___5 ;
  char *tmp___6 ;
  int tmp___7 ;
  unsigned short const   **tmp___8 ;
  int nest_info ;
  int tmp___9 ;
  void *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;

  {
  {
  {
#line 123
  tmp = xfpt_decode_arg(argc, argv);
  }
  }
#line 123
  if (! tmp) {
#line 123
    return (1);
  }
  {
  {
#line 125
  tmp___0 = misc_malloc(1024);
  }
#line 125
  inbuffer = (uschar *)tmp___0;
  {
#line 126
  tmp___1 = misc_malloc(10000);
  }
#line 126
  parabuffer = (uschar *)tmp___1;
  {
#line 130
  tmp___2 = misc_malloc((int )sizeof(istackstr ));
  }
#line 130
  istack = (istackstr *)tmp___2;
#line 131
  istack->prev = (struct istackstr *)((void *)0);
#line 132
  istack->linenumber = 0;
#line 134
  from_type_ptr = 0;
#line 135
  from_type[from_type_ptr] = 0;
  }
#line 137
  if ((unsigned long )xfpt_filename == (unsigned long )((void *)0)) {
    {
#line 139
    istack->file = stdin;
    {
#line 140
    strcpy((char */* __restrict  */)((char *)(istack->filename)), (char const   */* __restrict  */)((char const   *)((unsigned char *)"(stdin)")));
    }
    }
  } else {
    {
    {
#line 144
    strcpy((char */* __restrict  */)((char *)(istack->filename)), (char const   */* __restrict  */)((char const   *)xfpt_filename));
    }
    {
#line 145
    istack->file = fopen((char const   */* __restrict  */)((char const   *)xfpt_filename),
                         (char const   */* __restrict  */)"rb");
    }
    }
#line 146
    if ((unsigned long )istack->file == (unsigned long )((void *)0)) {
      {
      {
#line 147
      tmp___3 = __errno_location();
      }
      {
#line 147
      tmp___4 = strerror(*tmp___3);
      }
      {
#line 147
      error(0, istack->filename, tmp___4);
      }
      }
    }
  }
#line 152
  if ((unsigned long )out_filename == (unsigned long )((void *)0)) {
#line 154
    outfile = stdout;
  } else {
    {
    {
#line 152
    tmp___7 = strcmp((char const   *)out_filename, "-");
    }
    }
#line 152
    if (tmp___7 == 0) {
#line 154
      outfile = stdout;
    } else {
      {
      {
#line 158
      outfile = fopen((char const   */* __restrict  */)((char const   *)out_filename),
                      (char const   */* __restrict  */)"wb");
      }
      }
#line 159
      if ((unsigned long )outfile == (unsigned long )((void *)0)) {
        {
        {
#line 160
        tmp___5 = __errno_location();
        }
        {
#line 160
        tmp___6 = strerror(*tmp___5);
        }
        {
#line 160
        error(0, out_filename, tmp___6);
        }
        }
      }
    }
  }
#line 165
  nest_level = 0;
#line 166
  para_unfinished[0] = 0;
  {
  {
#line 168
  while (1) {
    while_continue___2: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
    {
    {
#line 168
    p = read_nextline();
    }
    }
#line 168
    if (! ((unsigned long )p != (unsigned long )((void *)0))) {
#line 168
      goto while_break;
    }
#line 170
    if ((int )*p == 46) {
      {
      {
#line 170
      dot_process(p);
      }
      }
    } else {
      {
#line 172
      if (literal_state == 1) {
#line 172
        goto case_1;
      }
#line 176
      if (literal_state == 2) {
#line 176
        goto case_2;
      }
#line 180
      if (literal_state == 3) {
#line 180
        goto case_3;
      }
#line 184
      goto switch_default;
      case_1: /* CIL Label */ 
      {
      {
#line 173
      para_process(p);
      }
      }
#line 174
      goto switch_break;
      case_2: /* CIL Label */ 
      {
      {
#line 177
      literal_process(p);
      }
      }
#line 178
      goto switch_break;
      case_3: /* CIL Label */ 
      {
      {
#line 181
      fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"%s",
              (char *)p);
      }
      }
#line 182
      goto switch_break;
      switch_default: /* CIL Label */ 
#line 186
      q = p;
      {
      {
#line 187
      while (1) {
        while_continue___3: /* CIL Label */ ;
        while_continue___0: /* CIL Label */ ;
        {
        {
#line 187
        tmp___8 = __ctype_b_loc();
        }
        }
#line 187
        if (! ((int const   )*(*tmp___8 + (int )*q) & 8192)) {
#line 187
          goto while_break___0;
        }
#line 187
        q ++;
      }
      while_break___3: /* CIL Label */ ;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 188
      if ((int )*q != 0) {
        {
        {
#line 191
        p = read_paragraph(p, & nest_info);
        }
        }
#line 192
        if (! para_unfinished[nest_level]) {
          {
          {
#line 194
          fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"<");
          }
          {
#line 195
          para_process((unsigned char *)"para&xfpt.rev;");
          }
          {
#line 196
          fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)">\n");
          }
          }
        }
        {
        {
#line 199
        para_process(p);
        }
        }
#line 200
        if (nest_info == 1) {
#line 202
          if (nest_level >= 3) {
            {
            {
#line 202
            error(27);
            }
            }
          } else {
#line 204
            nest_literal_stack[nest_level] = literal_state;
#line 205
            tmp___9 = nest_level;
#line 205
            nest_level ++;
#line 205
            para_unfinished[tmp___9] = 1;
          }
        } else {
          {
          {
#line 208
          fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"</para>\n");
          }
          }
        }
#line 210
        para_unfinished[nest_level] = 0;
#line 212
        if (nest_info == 2) {
#line 214
          if (nest_level <= 0) {
            {
            {
#line 214
            error(28);
            }
            }
          } else {
#line 215
            nest_level --;
#line 215
            literal_state = nest_literal_stack[nest_level];
          }
        }
      }
#line 218
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
  {
  {
#line 224
  while (1) {
    while_continue___4: /* CIL Label */ ;
    while_continue___1: /* CIL Label */ ;
#line 224
    if (! ((unsigned long )pushed != (unsigned long )((pushstr *)0))) {
#line 224
      goto while_break___1;
    }
    {
    {
#line 226
    para_process(pushed->string);
    }
    {
#line 227
    fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"\n");
    }
#line 228
    pushed = pushed->next;
    }
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___1: /* CIL Label */ ;
  }
  {
  {
#line 231
  fclose(outfile);
  }
  }
#line 233
  return (return_code);
}
}
/* compiler builtin: 
   void __builtin_va_start(__builtin_va_list  ) ;  */
/* compiler builtin: 
   void __builtin_va_end(__builtin_va_list  ) ;  */
#line 348 "/usr/include/stdio.h"
extern int vfprintf(FILE * __restrict  __s , char const   * __restrict  __format ,
                    __gnuc_va_list __arg ) ;
#line 26 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/error.c"
static int error_count  =    0;
#line 27 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/error.c"
static int warning_count  =    0;
#line 28 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/error.c"
static BOOL suppress_warnings  =    0;
#line 42 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/error.c"
static error_struct error_data[29]  = 
#line 42
  {      {(char)4, "failed to open %s: %s"}, 
        {(char)4, "malloc failed: requested %d bytes"}, 
        {(char)2, "unknown directive line: %s"}, 
        {(char)2, "missing semicolon after \"&%.*s\""}, 
        {(char)2, "unexpected character \"%c\" after \"&#\""}, 
        {(char)2, "\"layout\", \"text\", \"xml\", or \"off\" expected, but \"%s\" found"}, 
        {(char)2,
      "unknown flag \"&%c\""}, 
        {(char)2, "missing closing flag %s"}, 
        {(char)2, "flag nesting error: \"%s\" expected before \"%s\""}, 
        {(char)2, "a flag must begin with \"&\""}, 
        {(char)2, "a flag must contain more than just \"&\""}, 
        {(char)2, "malformed directive\n   %s"}, 
        {(char)2, "line stack is empty"}, 
        {(char)2, "missing %s at end of file"}, 
        {(char)2, "a macro must be given a name"}, 
        {(char)2, "%s is permitted only inside a macro"}, 
        {(char)2, "unexpected %s"}, 
        {(char)2, "bad macro argument substitution: \"%c\" follows \"%s\""}, 
        {(char)2, "relative macro argument not in \"eacharg\" section"}, 
        {(char)1, "extra characters at end of directive\n   %s %s\n   %.*s%.*s"}, 
        {(char)4, "string too long for internal buffer (%d > %d)"}, 
        {(char)2, "entity \"%s\" has already been defined"}, 
        {(char)2, "\"%s\" is not permitted in an inline macro call"}, 
        {(char)2, "unknown macro \"%.*s\" in inline macro call"}, 
        {(char)2, "missing closing parenthesis in inline macro call:\n   %s"}, 
        {(char)2, "ampersand found at end of line or string - ignored"}, 
        {(char)2, "\"begin\" or \"end\" expected, but \"%s\" found"}, 
        {(char)2, "\".nest begin\" too deeply nested"}, 
        {(char)2, "\".nest end\" incorrectly nested"}};
#line 102 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/error.c"
void error(int n  , ...) 
{ 
  int ec ;
  int i ;
  macroexe *me ;
  istackstr *fe ;
  va_list ap ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;

  {
  {
  {
#line 109
  __builtin_va_start(ap, n);
  }
  }
#line 111
  if (n > 28) {
    {
    {
#line 113
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"** Unknown error number %d\n",
            n);
    }
#line 114
    ec = 4;
    }
  } else {
#line 118
    ec = (int )error_data[n].ec;
#line 119
    if (ec == 1) {
#line 121
      if (suppress_warnings) {
#line 121
        return;
      }
      {
      {
#line 122
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"** Warning: ");
      }
      }
    } else
#line 124
    if (ec > 1) {
      {
      {
#line 125
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"** Error: ");
      }
      }
    }
    {
    {
#line 126
    vfprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)error_data[n].text,
             ap);
    }
    {
#line 127
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"\n");
    }
    }
  }
  {
  {
#line 130
  __builtin_va_end(ap);
  }
#line 132
  me = macrocurrent;
#line 133
  fe = istack;
#line 135
  i = from_type_ptr;
  }
  {
  {
#line 135
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 135
    if (! (i >= 0)) {
#line 135
      goto while_break;
    }
#line 137
    if (from_type[i] == 1) {
      {
      {
#line 139
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"   Processing macro %s\n",
              (me->macro)->name);
      }
#line 140
      me = me->prev;
      }
    } else
#line 144
    if ((unsigned long )fe != (unsigned long )((void *)0)) {
      {
      {
#line 146
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"   Detected near line %d of %s\n",
              fe->linenumber, fe->filename);
      }
#line 148
      fe = fe->prev;
      }
    } else {
      {
      {
#line 152
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"   Detected near end of file\n");
      }
      }
    }
#line 135
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 157
  if (ec == 1) {
#line 159
    warning_count ++;
#line 160
    if (warning_count > 40) {
      {
      {
#line 162
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"** Too many warnings - subsequent ones suppressed\n");
      }
#line 163
      suppress_warnings = 1;
      }
    }
  } else
#line 167
  if (ec > 1) {
#line 169
    return_code = 1;
#line 170
    error_count ++;
#line 171
    if (error_count > 40) {
      {
      {
#line 173
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"** Too many errors\n");
      }
#line 174
      ec = 3;
      }
    }
  }
#line 178
  if (ec >= 3) {
    {
    {
#line 180
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"** xfpt abandoned\n");
    }
    {
#line 181
    exit(1);
    }
    }
  }
  {
  {
#line 184
  fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"\n");
  }
  }
#line 185
  return;
}
}
#line 21 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.h"
int from_type[20]  ;
#line 30 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.h"
int nest_literal_stack[4]  ;
#line 13 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
uschar *xfpt_share  =    (unsigned char *)"/usr/local/share/xfpt";
#line 14 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
uschar *xfpt_version  =    (unsigned char *)"0.07 22-July-2009";
#line 16 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
tree_node *entities  =    (tree_node *)((void *)0);
#line 18 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
flagstr *flaglist  =    (flagstr *)((void *)0);
#line 20 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
int from_type_ptr  =    0;
#line 22 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
uschar *inbuffer  =    (uschar *)((void *)0);
#line 23 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
istackstr *istack  =    (istackstr *)((void *)0);
#line 25 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
int literal_state  =    0;
#line 27 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
int nest_level  =    0;
#line 29 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
uschar *next_line  =    (uschar *)((void *)0);
#line 31 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
macroexe *macrocurrent  =    (macroexe *)((void *)0);
#line 32 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
macrodef *macrolist  =    (macrodef *)((void *)0);
#line 34 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
argstr *macro_argbase  =    (argstr *)((void *)0);
#line 35 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
argstr *macro_starteach  =    (argstr *)((void *)0);
#line 37 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
FILE *outfile  =    (FILE *)((void *)0);
#line 39 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
int para_inline_macro  =    0;
#line 40 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
uschar *parabuffer  =    (uschar *)((void *)0);
#line 41 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
int popto  =    -1;
#line 42 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
pushstr *pushed  =    (pushstr *)((void *)0);
#line 44 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
int return_code  =    0;
#line 45 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/globals.c"
uschar *revision  =    (uschar *)((void *)0);
#line 555 "/usr/include/stdio.h"
extern int fputc(int __c , FILE *__stream ) ;
#line 23 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/functions.h"
void read_process_macroline(uschar *p , uschar *b ) ;
#line 26
tree_node *tree_search(tree_node *p , uschar *name ) ;
#line 28 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/para.c"
static uschar *para_macro_process(uschar *p , uschar *q ) 
{ 
  int length ;
  argstr **pp ;
  macrodef *md ;
  macroexe *me ;
  int tmp ;
  void *tmp___0 ;
  unsigned short const   **tmp___1 ;
  argstr *as ;
  void *tmp___2 ;
  unsigned short const   **tmp___3 ;
  uschar buffer[1024] ;
  uschar *qq ;
  size_t tmp___4 ;
  unsigned short const   **tmp___5 ;
  macroexe *temp ;
  void *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;

  {
#line 31
  length = (int )(q - p);
#line 36
  md = macrolist;
  {
  {
#line 36
  while (1) {
    while_continue___5: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 36
    if (! ((unsigned long )md != (unsigned long )((void *)0))) {
#line 36
      goto while_break;
    }
#line 38
    if (length == md->namelength) {
      {
      {
#line 38
      tmp = strncmp((char const   *)p, (char const   *)md->name, (size_t )length);
      }
      }
#line 38
      if (tmp == 0) {
#line 38
        goto while_break;
      }
    }
#line 36
    md = md->next;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 41
  if ((unsigned long )md == (unsigned long )((void *)0)) {
    {
    {
#line 43
    error(23, length, p);
    }
    {
#line 44
    fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&");
    }
    }
#line 45
    return (p);
  }
  {
  {
#line 51
  tmp___0 = misc_malloc((int )sizeof(macroexe ));
  }
#line 51
  me = (macroexe *)tmp___0;
#line 52
  me->prev = macrocurrent;
#line 53
  macrocurrent = me;
#line 54
  me->macro = md;
#line 55
  me->nextline = md->lines;
#line 56
  from_type_ptr ++;
#line 56
  from_type[from_type_ptr] = 1;
#line 58
  me->args = (argstr *)((void *)0);
#line 59
  pp = & me->args;
  }
  {
  {
#line 61
  while (1) {
    while_continue___6: /* CIL Label */ ;
    while_continue___0: /* CIL Label */ ;
    {
    {
#line 61
    tmp___1 = __ctype_b_loc();
    }
#line 61
    q ++;
    }
#line 61
    if (! ((int const   )*(*tmp___1 + (int )*q) & 8192)) {
#line 61
      goto while_break___0;
    }
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
  {
#line 62
  while (1) {
    while_continue___7: /* CIL Label */ ;
    while_continue___1: /* CIL Label */ ;
#line 62
    if ((int )*q != 0) {
#line 62
      if (! ((int )*q != 41)) {
#line 62
        goto while_break___1;
      }
    } else {
#line 62
      goto while_break___1;
    }
    {
    {
#line 64
    tmp___2 = misc_malloc((int )sizeof(argstr ));
    }
#line 64
    as = (argstr *)tmp___2;
#line 65
    as->next = (struct argstr *)((void *)0);
#line 66
    *pp = as;
#line 67
    pp = & as->next;
    {
#line 68
    as->string = misc_readitem(q, (unsigned char *)",)", & length, (uschar *)((void *)0),
                               0);
    }
#line 69
    q += length;
    }
#line 70
    if ((int )*q == 44) {
      {
      {
#line 70
      while (1) {
        while_continue___8: /* CIL Label */ ;
        while_continue___2: /* CIL Label */ ;
        {
        {
#line 70
        tmp___3 = __ctype_b_loc();
        }
#line 70
        q ++;
        }
#line 70
        if (! ((int const   )*(*tmp___3 + (int )*q) & 8192)) {
#line 70
          goto while_break___2;
        }
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break___2: /* CIL Label */ ;
      }
    }
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 73
  if ((int )*q != 41) {
    {
    {
#line 75
    error(24, p);
    }
    {
#line 76
    fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&");
    }
    }
#line 77
    return (p);
  }
#line 85
  para_inline_macro ++;
  {
  {
#line 87
  while (1) {
    while_continue___9: /* CIL Label */ ;
    while_continue___3: /* CIL Label */ ;
    {
    {
#line 91
    read_process_macroline((macrocurrent->nextline)->string, buffer);
    }
    }
#line 97
    if ((int )buffer[0] == 46) {
      {
      {
#line 99
      dot_process(buffer);
      }
      }
#line 100
      if ((unsigned long )macrocurrent != (unsigned long )me) {
#line 100
        goto while_break___3;
      }
    } else {
      {
      {
#line 107
      tmp___4 = strlen((char const   *)(buffer));
      }
#line 107
      qq = buffer + (int )tmp___4;
      }
      {
      {
#line 108
      while (1) {
        while_continue___10: /* CIL Label */ ;
        while_continue___4: /* CIL Label */ ;
#line 108
        if ((unsigned long )qq > (unsigned long )(buffer)) {
          {
          {
#line 108
          tmp___5 = __ctype_b_loc();
          }
          }
#line 108
          if (! ((int const   )*(*tmp___5 + (int )*(qq + -1)) & 8192)) {
#line 108
            goto while_break___4;
          }
        } else {
#line 108
          goto while_break___4;
        }
#line 108
        qq --;
      }
      while_break___10: /* CIL Label */ ;
      }
      while_break___4: /* CIL Label */ ;
      }
      {
#line 109
      *qq = (uschar )0;
      {
#line 110
      para_process(buffer);
      }
      }
    }
#line 116
    macrocurrent->nextline = (macrocurrent->nextline)->next;
#line 117
    if ((unsigned long )macrocurrent->nextline == (unsigned long )((void *)0)) {
      {
#line 119
      temp = macrocurrent;
#line 120
      macrocurrent = macrocurrent->prev;
      {
#line 121
      free((void *)temp);
      }
#line 122
      from_type_ptr --;
      }
#line 123
      goto while_break___3;
    }
  }
  while_break___9: /* CIL Label */ ;
  }
  while_break___3: /* CIL Label */ ;
  }
#line 130
  para_inline_macro --;
#line 131
  return (q + 1);
}
}
#line 152 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/para.c"
static void check_literal(uschar *s , BOOL *b ) 
{ 
  char *tmp ;
  int tmp___0 ;
  unsigned short const   **tmp___1 ;
  int tmp___2 ;
  unsigned short const   **tmp___3 ;
  int t ;
  uschar *tmp___4 ;
  uschar *tmp___5 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;

  {
  {
  {
#line 155
  while (1) {
    while_continue___2: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 155
    if (! ((int )*s != 0)) {
#line 155
      goto while_break;
    }
    {
    {
#line 157
    tmp = strchr((char const   *)s, '<');
    }
#line 157
    s = (unsigned char *)tmp;
    }
#line 158
    if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 158
      return;
    }
    {
    {
#line 160
    tmp___2 = strncmp((char const   *)s, "<literal", (size_t )8);
    }
    }
#line 160
    if (tmp___2 == 0) {
#line 160
      if ((int )*(s + 8) == 62) {
#line 161
        *b = 1;
      } else {
        {
        {
#line 160
        tmp___3 = __ctype_b_loc();
        }
        }
#line 160
        if ((int const   )*(*tmp___3 + (int )*(s + 8)) & 8192) {
#line 161
          *b = 1;
        } else {
#line 160
          goto _L;
        }
      }
    } else {
      _L: /* CIL Label */ 
      {
      {
#line 162
      tmp___0 = strncmp((char const   *)s, "</literal", (size_t )9);
      }
      }
#line 162
      if (tmp___0 == 0) {
#line 162
        if ((int )*(s + 9) == 62) {
#line 163
          *b = 0;
        } else {
          {
          {
#line 162
          tmp___1 = __ctype_b_loc();
          }
          }
#line 162
          if ((int const   )*(*tmp___1 + (int )*(s + 9)) & 8192) {
#line 163
            *b = 0;
          }
        }
      }
    }
    {
    {
#line 165
    while (1) {
      while_continue___3: /* CIL Label */ ;
      while_continue___0: /* CIL Label */ ;
#line 165
      if ((int )*s != 0) {
#line 165
        if (! ((int )*s != 62)) {
#line 165
          goto while_break___0;
        }
      } else {
#line 165
        goto while_break___0;
      }
#line 167
      if ((int )*s == 34) {
#line 167
        goto _L___0;
      } else
#line 167
      if ((int )*s == 39) {
        _L___0: /* CIL Label */ 
#line 169
        tmp___4 = s;
#line 169
        s ++;
#line 169
        t = (int )*tmp___4;
        {
        {
#line 170
        while (1) {
          while_continue___4: /* CIL Label */ ;
          while_continue___1: /* CIL Label */ ;
#line 170
          if ((int )*s != 0) {
#line 170
            if (! ((int )*s != t)) {
#line 170
              goto while_break___1;
            }
          } else {
#line 170
            goto while_break___1;
          }
#line 170
          s ++;
        }
        while_break___4: /* CIL Label */ ;
        }
        while_break___1: /* CIL Label */ ;
        }
#line 171
        if ((int )*s == 0) {
#line 171
          return;
        }
      }
#line 173
      s ++;
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 176
    tmp___5 = s;
#line 176
    s ++;
#line 176
    if ((int )*tmp___5 == 0) {
#line 176
      return;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 178
  return;
}
}
#line 194 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/para.c"
void para_process(uschar *p ) 
{ 
  flagstr *f ;
  flagstr *fstack[40] ;
  int fstackcount ;
  BOOL inliteraltext ;
  int c ;
  int i ;
  int j ;
  int tmp ;
  uschar *tmp___0 ;
  int entlen ;
  uschar *q ;
  unsigned short const   **tmp___1 ;
  tree_node *t ;
  int tmp___2 ;
  unsigned short const   **tmp___3 ;
  uschar *q___0 ;
  unsigned short const   **tmp___4 ;
  unsigned short const   **tmp___5 ;
  unsigned short const   **tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  void *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;

  {
#line 199
  fstackcount = 0;
#line 200
  inliteraltext = 0;
  {
  {
#line 202
  while (1) {
    while_continue___7: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 202
    if (! ((int )*p != 0)) {
#line 202
      goto while_break;
    }
#line 209
    i = fstackcount - 1;
    {
    {
#line 209
    while (1) {
      while_continue___8: /* CIL Label */ ;
      while_continue___0: /* CIL Label */ ;
#line 209
      if (! (i >= 0)) {
#line 209
        goto while_break___0;
      }
      {
#line 211
      f = fstack[i];
      {
#line 212
      tmp = strncmp((char const   *)f->flag2, (char const   *)p, (size_t )f->length2);
      }
      }
#line 212
      if (tmp == 0) {
#line 215
        j = i + 1;
        {
        {
#line 215
        while (1) {
          while_continue___9: /* CIL Label */ ;
          while_continue___1: /* CIL Label */ ;
#line 215
          if (! (j < fstackcount)) {
#line 215
            goto while_break___1;
          }
          {
          {
#line 216
          error(8, (fstack[j])->flag2, f->flag2);
          }
#line 215
          j ++;
          }
        }
        while_break___9: /* CIL Label */ ;
        }
        while_break___1: /* CIL Label */ ;
        }
        {
#line 217
        fstackcount = i;
        {
#line 218
        fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"%s",
                (char *)f->rep2);
        }
        {
#line 219
        check_literal(f->rep2, & inliteraltext);
        }
#line 220
        p += f->length2;
#line 221
        i = fstackcount;
        }
#line 222
        goto __Cont;
      }
      __Cont: /* CIL Label */ 
#line 209
      i --;
    }
    while_break___8: /* CIL Label */ ;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 229
    if ((int )*p == 0) {
#line 229
      goto while_break;
    }
#line 235
    tmp___0 = p;
#line 235
    p ++;
#line 235
    c = (int )*tmp___0;
#line 236
    if (c == 60) {
      {
      {
#line 236
      fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&lt;");
      }
      }
#line 236
      goto while_continue;
    }
#line 237
    if (c == 62) {
      {
      {
#line 237
      fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&gt;");
      }
      }
#line 237
      goto while_continue;
    }
#line 239
    if (! inliteraltext) {
#line 241
      if (c == 96) {
        {
        {
#line 243
        fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&#x2018;");
        }
        }
#line 244
        goto while_continue;
      }
#line 247
      if (c == 39) {
        {
        {
#line 249
        fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&#x2019;");
        }
        }
#line 250
        goto while_continue;
      }
    }
#line 254
    if (c != 38) {
      {
      {
#line 254
      fputc(c, outfile);
      }
      }
#line 254
      goto while_continue;
    }
#line 258
    if ((int )*p == 0) {
      {
      {
#line 260
      error(25);
      }
      }
#line 261
      goto while_continue;
    } else
#line 258
    if ((int )*p == 10) {
      {
      {
#line 260
      error(25);
      }
      }
#line 261
      goto while_continue;
    }
    {
    {
#line 267
    tmp___3 = __ctype_b_loc();
    }
    }
#line 267
    if ((int const   )*(*tmp___3 + (int )*p) & 1024) {
#line 270
      q = p + 1;
      {
      {
#line 271
      while (1) {
        while_continue___10: /* CIL Label */ ;
        while_continue___2: /* CIL Label */ ;
        {
        {
#line 271
        tmp___1 = __ctype_b_loc();
        }
        }
#line 271
        if (! ((int const   )*(*tmp___1 + (int )*q) & 8)) {
#line 271
          if (! ((int )*q == 46)) {
#line 271
            goto while_break___2;
          }
        }
#line 271
        q ++;
      }
      while_break___10: /* CIL Label */ ;
      }
      while_break___2: /* CIL Label */ ;
      }
#line 276
      if ((int )*q == 40) {
        {
        {
#line 278
        p = para_macro_process(p, q);
        }
        }
#line 279
        goto while_continue;
      }
#line 288
      entlen = (int )(q - p);
#line 290
      if ((int )*q != 59) {
        {
        {
#line 292
        error(3, entlen, p);
        }
        {
#line 293
        fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&");
        }
        }
#line 294
        goto while_continue;
      }
      {
      {
#line 299
      tmp___2 = strncmp((char const   *)p, "xfpt.rev", (size_t )entlen);
      }
      }
#line 299
      if (tmp___2 == 0) {
#line 301
        if ((unsigned long )revision != (unsigned long )((void *)0)) {
#line 301
          if ((int )*revision != 0) {
            {
            {
#line 302
            fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)" revisionflag=\"%s\"",
                    revision);
            }
            }
          }
        }
      } else {
        {
#line 310
        *q = (uschar )0;
        {
#line 311
        t = tree_search(entities, p);
        }
#line 312
        *q = (uschar )';';
        }
#line 313
        if ((unsigned long )t != (unsigned long )((void *)0)) {
          {
          {
#line 314
          fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"%s",
                  (char *)t->data);
          }
          }
        } else {
          {
          {
#line 316
          fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&%.*s;",
                  entlen, p);
          }
          }
        }
      }
#line 319
      if ((int )*q == 59) {
#line 319
        q ++;
      }
#line 320
      p = q;
#line 321
      goto while_continue;
    }
#line 327
    if ((int )*p == 35) {
      {
#line 329
      q___0 = p + 1;
      {
#line 330
      tmp___6 = __ctype_b_loc();
      }
      }
#line 330
      if ((int const   )*(*tmp___6 + (int )*q___0) & 2048) {
#line 332
        q___0 ++;
        {
        {
#line 332
        while (1) {
          while_continue___11: /* CIL Label */ ;
          while_continue___3: /* CIL Label */ ;
          {
          {
#line 332
          tmp___4 = __ctype_b_loc();
          }
          }
#line 332
          if (! ((int const   )*(*tmp___4 + (int )*q___0) & 2048)) {
#line 332
            goto while_break___3;
          }
#line 332
          q___0 ++;
        }
        while_break___11: /* CIL Label */ ;
        }
        while_break___3: /* CIL Label */ ;
        }
#line 333
        if ((int )*q___0 == 59) {
          {
          {
#line 335
          fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&%.*s",
                  q___0 - p, p);
          }
#line 336
          p = q___0;
          }
#line 337
          goto while_continue;
        }
      } else
#line 341
      if ((int )*q___0 == 120) {
#line 343
        q___0 ++;
        {
        {
#line 343
        while (1) {
          while_continue___12: /* CIL Label */ ;
          while_continue___4: /* CIL Label */ ;
          {
          {
#line 343
          tmp___5 = __ctype_b_loc();
          }
          }
#line 343
          if (! ((int const   )*(*tmp___5 + (int )*q___0) & 4096)) {
#line 343
            goto while_break___4;
          }
#line 343
          q___0 ++;
        }
        while_break___12: /* CIL Label */ ;
        }
        while_break___4: /* CIL Label */ ;
        }
#line 344
        if ((int )*q___0 == 59) {
          {
          {
#line 346
          fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&%.*s",
                  q___0 - p, p);
          }
#line 347
          p = q___0;
          }
#line 348
          goto while_continue;
        }
      }
    }
#line 355
    f = flaglist;
    {
    {
#line 355
    while (1) {
      while_continue___13: /* CIL Label */ ;
      while_continue___5: /* CIL Label */ ;
#line 355
      if (! ((unsigned long )f != (unsigned long )((void *)0))) {
#line 355
        goto while_break___5;
      }
      {
      {
#line 356
      tmp___7 = strncmp((char const   *)p, (char const   *)f->flag1, (size_t )f->length1);
      }
      }
#line 356
      if (tmp___7 == 0) {
#line 356
        goto while_break___5;
      }
#line 355
      f = f->next;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___5: /* CIL Label */ ;
    }
#line 358
    if ((unsigned long )f == (unsigned long )((void *)0)) {
      {
      {
#line 360
      error(6, (int )*p);
      }
      {
#line 361
      fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&amp;");
      }
      }
#line 362
      goto while_continue;
    }
#line 368
    if (f->length2 != 0) {
#line 368
      tmp___8 = fstackcount;
#line 368
      fstackcount ++;
#line 368
      fstack[tmp___8] = f;
    }
    {
    {
#line 369
    fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"%s",
            (char *)f->rep1);
    }
    {
#line 370
    check_literal(f->rep1, & inliteraltext);
    }
#line 371
    p += f->length1;
    }
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
  {
  {
#line 377
  while (1) {
    while_continue___14: /* CIL Label */ ;
    while_continue___6: /* CIL Label */ ;
#line 377
    if (! (fstackcount > 0)) {
#line 377
      goto while_break___6;
    }
    {
#line 379
    fstackcount --;
#line 379
    f = fstack[fstackcount];
    {
#line 380
    error(7, f->flag2);
    }
    }
  }
  while_break___14: /* CIL Label */ ;
  }
  while_break___6: /* CIL Label */ ;
  }
#line 382
  return;
}
}
#line 18 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static uschar *circumflexes___0  =    (unsigned char *)"^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^";
#line 20 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static uschar *spaces___0  =    (unsigned char *)"                                                                         ";
#line 22 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static uschar *thisdir___0  =    (uschar *)((void *)0);
#line 36 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static int readnumber___0(uschar *p ) 
{ 
  int n ;
  unsigned short const   **tmp ;
  uschar *tmp___0 ;
  unsigned short const   **tmp___1 ;
  unsigned short const   **tmp___2 ;

  {
  {
#line 39
  n = 0;
  {
#line 40
  tmp = __ctype_b_loc();
  }
  }
#line 40
  if (! ((int const   )*(*tmp + (int )*p) & 2048)) {
    {
    {
#line 40
    error(11, thisdir___0);
    }
    }
#line 40
    return (-1);
  }
  {
  {
#line 41
  while (1) {
    while_continue___1: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
    {
    {
#line 41
    tmp___1 = __ctype_b_loc();
    }
    }
#line 41
    if (! ((int const   )*(*tmp___1 + (int )*p) & 2048)) {
#line 41
      goto while_break;
    }
#line 41
    tmp___0 = p;
#line 41
    p ++;
#line 41
    n = (n * 10 + (int )*tmp___0) - 48;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
  {
  {
#line 42
  while (1) {
    while_continue___2: /* CIL Label */ ;
    while_continue___0: /* CIL Label */ ;
    {
    {
#line 42
    tmp___2 = __ctype_b_loc();
    }
    }
#line 42
    if (! ((int const   )*(*tmp___2 + (int )*p) & 8192)) {
#line 42
      goto while_break___0;
    }
#line 42
    p ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 43
  if ((int )*p != 0) {
    {
    {
#line 43
    error(11, thisdir___0);
    }
    }
#line 43
    return (-1);
  }
#line 44
  return (n);
}
}
#line 63 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void skipto___0(uschar *s , uschar *t ) 
{ 
  int nest ;
  int slength ;
  size_t tmp ;
  int tlength ;
  size_t tmp___0 ;
  BOOL done ;
  uschar *p ;
  int tmp___1 ;
  unsigned short const   **tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  unsigned short const   **tmp___6 ;
  macroexe *temp ;

  {
  {
#line 66
  nest = -1;
  {
#line 67
  tmp = strlen((char const   *)s);
  }
#line 67
  slength = (int )tmp;
  {
#line 68
  tmp___0 = strlen((char const   *)t);
  }
#line 68
  tlength = (int )tmp___0;
#line 69
  done = (unsigned long )macrocurrent->nextline == (unsigned long )((void *)0);
  }
  {
  {
#line 70
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 70
    if (! (! done)) {
#line 70
      goto while_break;
    }
    {
#line 72
    p = (macrocurrent->nextline)->string;
    {
#line 73
    tmp___1 = strncmp((char const   *)p, (char const   *)t, (size_t )tlength);
    }
    }
#line 73
    if (tmp___1 == 0) {
#line 73
      if ((int )*(p + tlength) == 0) {
#line 73
        goto _L;
      } else {
        {
        {
#line 73
        tmp___2 = __ctype_b_loc();
        }
        }
#line 73
        if ((int const   )*(*tmp___2 + (int )*(p + tlength)) & 8192) {
          _L: /* CIL Label */ 
#line 73
          tmp___3 = nest;
#line 73
          nest --;
#line 73
          if (tmp___3 <= 0) {
#line 73
            tmp___4 = 1;
          } else {
#line 73
            tmp___4 = 0;
          }
        } else {
#line 73
          tmp___4 = 0;
        }
      }
    } else {
#line 73
      tmp___4 = 0;
    }
    {
#line 73
    done = tmp___4;
    {
#line 76
    tmp___5 = strncmp((char const   *)p, (char const   *)s, (size_t )slength);
    }
    }
#line 76
    if (tmp___5 == 0) {
#line 76
      if ((int )*(p + slength) == 0) {
#line 77
        nest ++;
      } else {
        {
        {
#line 76
        tmp___6 = __ctype_b_loc();
        }
        }
#line 76
        if ((int const   )*(*tmp___6 + (int )*(p + slength)) & 8192) {
#line 77
          nest ++;
        }
      }
    }
#line 78
    macrocurrent->nextline = (macrocurrent->nextline)->next;
#line 79
    if ((unsigned long )macrocurrent->nextline == (unsigned long )((void *)0)) {
      {
#line 81
      temp = macrocurrent;
#line 82
      macrocurrent = macrocurrent->prev;
      {
#line 83
      free((void *)temp);
      }
#line 84
      from_type_ptr --;
      }
#line 85
      goto while_break;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 88
  return;
}
}
#line 107 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_arg___0(uschar *p ) 
{ 
  BOOL mustexist ;
  argstr *arg ;
  int i ;
  int argn ;
  int tmp ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
#line 110
  mustexist = 1;
#line 114
  if (from_type[from_type_ptr] != 1) {
    {
    {
#line 114
    error(15, (unsigned char *)".arg");
    }
    }
#line 114
    return;
  }
#line 116
  if ((int )*p == 45) {
#line 118
    mustexist = 0;
#line 119
    p ++;
  }
  {
  {
#line 122
  argn = readnumber___0(p);
  }
  }
#line 123
  if (argn < 0) {
#line 123
    return;
  }
#line 125
  arg = macrocurrent->args;
#line 126
  i = 1;
  {
  {
#line 126
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 126
    if ((unsigned long )arg != (unsigned long )((void *)0)) {
#line 126
      if (! (i < argn)) {
#line 126
        goto while_break;
      }
    } else {
#line 126
      goto while_break;
    }
#line 126
    arg = arg->next;
#line 126
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 128
  if ((unsigned long )arg != (unsigned long )((void *)0)) {
#line 128
    if ((int )*(arg->string + 0) != 0) {
#line 128
      tmp = 1;
    } else {
#line 128
      tmp = 0;
    }
  } else {
#line 128
    tmp = 0;
  }
#line 128
  if (mustexist != tmp) {
    {
    {
#line 129
    skipto___0((unsigned char *)".arg", (unsigned char *)".endarg");
    }
    }
  }
#line 130
  return;
}
}
#line 145 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_eacharg___0(uschar *p ) 
{ 
  argstr *arg ;
  int argn ;
  int i ;
  int tmp ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
#line 151
  if (from_type[from_type_ptr] != 1) {
    {
    {
#line 151
    error(15, (unsigned char *)".eacharg");
    }
    }
#line 151
    return;
  }
#line 153
  if ((int )*p == 0) {
#line 153
    argn = 1;
  } else {
    {
    {
#line 153
    tmp = readnumber___0(p);
    }
#line 153
    argn = tmp;
    }
  }
#line 154
  if (argn < 0) {
#line 154
    return;
  }
#line 156
  arg = macrocurrent->args;
#line 157
  i = 1;
  {
  {
#line 157
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 157
    if ((unsigned long )arg != (unsigned long )((void *)0)) {
#line 157
      if (! (i < argn)) {
#line 157
        goto while_break;
      }
    } else {
#line 157
      goto while_break;
    }
#line 157
    arg = arg->next;
#line 157
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 162
  if ((unsigned long )arg == (unsigned long )((void *)0)) {
    {
    {
#line 162
    skipto___0((unsigned char *)"eacharg", (unsigned char *)".endeach");
    }
    }
  } else {
#line 164
    macro_argbase = arg;
#line 165
    macro_starteach = macrocurrent->nextline;
  }
#line 167
  return;
}
}
#line 181 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_echo___0(uschar *p ) 
{ 
  char *__cil_tmp2 ;

  {
  {
  {
#line 184
  fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%s\n",
          p);
  }
  }
#line 185
  return;
}
}
#line 200 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_endarg___0(uschar *p ) 
{ 
  size_t tmp ;
  char *__cil_tmp3 ;
  char *__cil_tmp4 ;

  {
#line 203
  if (from_type[from_type_ptr] != 1) {
    {
    {
#line 203
    error(15, (unsigned char *)".endarg");
    }
    }
#line 203
    return;
  }
#line 204
  if ((int )*p != 0) {
    {
    {
#line 204
    tmp = strlen((char const   *)p);
    }
    {
#line 204
    error(19, ".endarg", p, 8, spaces___0, (int )tmp, circumflexes___0);
    }
    }
  }
#line 205
  return;
}
}
#line 221 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_endeach___0(uschar *p ) 
{ 
  int count ;
  int tmp ;
  int tmp___0 ;
  char *__cil_tmp5 ;

  {
#line 226
  if (from_type[from_type_ptr] != 1) {
    {
    {
#line 226
    error(15, (unsigned char *)".endeach");
    }
    }
#line 226
    return;
  }
#line 228
  if ((int )*p == 0) {
#line 228
    count = 1;
  } else {
    {
    {
#line 228
    tmp = readnumber___0(p);
    }
#line 228
    count = tmp;
    }
  }
#line 229
  if (count < 0) {
#line 229
    return;
  }
  {
  {
#line 231
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 231
    tmp___0 = count;
#line 231
    count --;
#line 231
    if (tmp___0 > 0) {
#line 231
      if (! ((unsigned long )macro_argbase != (unsigned long )((void *)0))) {
#line 231
        goto while_break;
      }
    } else {
#line 231
      goto while_break;
    }
#line 232
    macro_argbase = macro_argbase->next;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 234
  if ((unsigned long )macro_argbase == (unsigned long )((void *)0)) {
#line 234
    macro_starteach = (argstr *)((void *)0);
  } else {
#line 235
    macrocurrent->nextline = macro_starteach;
  }
#line 236
  return;
}
}
#line 252 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_endinliteral___0(uschar *p ) 
{ 
  size_t tmp ;
  char *__cil_tmp3 ;
  char *__cil_tmp4 ;

  {
#line 255
  if (from_type[from_type_ptr] != 1) {
    {
    {
#line 255
    error(15, (unsigned char *)".endinliteral");
    }
    }
#line 255
    return;
  }
#line 256
  if ((int )*p != 0) {
    {
    {
#line 256
    tmp = strlen((char const   *)p);
    }
    {
#line 256
    error(19, ".endinliteral", p, 8, spaces___0, (int )tmp, circumflexes___0);
    }
    }
  }
#line 257
  return;
}
}
#line 278 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_flag___0(uschar *p ) 
{ 
  uschar *pp ;
  uschar *q ;
  int length ;
  int term ;
  flagstr *f ;
  flagstr **ff ;
  void *tmp ;
  uschar *tmp___0 ;
  unsigned short const   **tmp___1 ;
  size_t tmp___2 ;
  unsigned short const   **tmp___3 ;
  uschar *tmp___4 ;
  unsigned short const   **tmp___5 ;
  unsigned short const   **tmp___6 ;

  {
  {
  {
#line 285
  tmp = misc_malloc((int )sizeof(flagstr ));
  }
#line 285
  f = (flagstr *)tmp;
#line 289
  tmp___0 = p;
#line 289
  p ++;
  }
#line 289
  if ((int )*tmp___0 != 38) {
    {
    {
#line 289
    error(9);
    }
    }
#line 289
    return;
  }
#line 291
  pp = p;
  {
  {
#line 291
  while (1) {
    while_continue___5: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 291
    if ((int )*pp != 0) {
      {
      {
#line 291
      tmp___1 = __ctype_b_loc();
      }
      }
#line 291
      if ((int const   )*(*tmp___1 + (int )*pp) & 8192) {
#line 291
        goto while_break;
      }
    } else {
#line 291
      goto while_break;
    }
#line 291
    pp ++;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 292
  length = (int )(pp - p);
#line 293
  if (length == 0) {
    {
    {
#line 293
    error(10);
    }
    }
#line 293
    return;
  }
  {
#line 295
  f->length1 = length;
  {
#line 296
  f->flag1 = misc_copystring(p, length);
  }
  {
#line 301
  tmp___2 = strlen((char const   *)pp);
  }
#line 301
  q = pp + (int )tmp___2;
#line 302
  q --;
  }
#line 302
  if ((int )*q != 34) {
#line 302
    if ((int )*q != 39) {
      {
      {
#line 302
      error(11, thisdir___0);
      }
      }
#line 302
      return;
    }
  }
#line 304
  term = (int )*q;
  {
  {
#line 305
  while (1) {
    while_continue___6: /* CIL Label */ ;
    while_continue___0: /* CIL Label */ ;
#line 305
    q --;
#line 305
    if (! ((unsigned long )q > (unsigned long )pp)) {
#line 305
      goto while_break___0;
    }
#line 307
    if ((int )*q == term) {
#line 307
      if ((int )*(q + -1) == term) {
#line 307
        q --;
      } else {
#line 307
        goto while_break___0;
      }
    }
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 310
  if ((unsigned long )q <= (unsigned long )pp) {
    {
    {
#line 310
    error(11, thisdir___0);
    }
    }
#line 310
    return;
  }
  {
  {
#line 315
  while (1) {
    while_continue___7: /* CIL Label */ ;
    while_continue___1: /* CIL Label */ ;
    {
    {
#line 315
    tmp___3 = __ctype_b_loc();
    }
    }
#line 315
    if (! ((int const   )*(*tmp___3 + (int )*pp) & 8192)) {
#line 315
      goto while_break___1;
    }
#line 315
    pp ++;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 316
  if ((unsigned long )pp == (unsigned long )q) {
    {
    {
#line 318
    f->rep1 = misc_readstring(q, (int *)((void *)0), (uschar *)((void *)0), 0);
    }
#line 319
    f->length2 = 0;
#line 320
    tmp___4 = (uschar *)((void *)0);
#line 320
    f->rep2 = tmp___4;
#line 320
    f->flag2 = tmp___4;
    }
  } else {
    {
    {
#line 327
    f->rep2 = misc_readstring(q, (int *)((void *)0), (uschar *)((void *)0), 0);
    }
#line 328
    p = pp;
    }
    {
    {
#line 329
    while (1) {
      while_continue___8: /* CIL Label */ ;
      while_continue___2: /* CIL Label */ ;
#line 329
      if ((int )*pp != 0) {
        {
        {
#line 329
        tmp___5 = __ctype_b_loc();
        }
        }
#line 329
        if ((int const   )*(*tmp___5 + (int )*pp) & 8192) {
#line 329
          goto while_break___2;
        }
      } else {
#line 329
        goto while_break___2;
      }
#line 329
      pp ++;
    }
    while_break___8: /* CIL Label */ ;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 330
    length = (int )(pp - p);
#line 331
    if (length == 0) {
      {
      {
#line 331
      error(10);
      }
      }
#line 331
      return;
    }
    {
#line 332
    f->length2 = length;
    {
#line 333
    f->flag2 = misc_copystring(p, length);
    }
    }
    {
    {
#line 334
    while (1) {
      while_continue___9: /* CIL Label */ ;
      while_continue___3: /* CIL Label */ ;
      {
      {
#line 334
      tmp___6 = __ctype_b_loc();
      }
      }
#line 334
      if (! ((int const   )*(*tmp___6 + (int )*pp) & 8192)) {
#line 334
        goto while_break___3;
      }
#line 334
      pp ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___3: /* CIL Label */ ;
    }
#line 335
    if ((int )*pp != 34) {
#line 335
      if ((int )*pp != 39) {
        {
        {
#line 335
        error(11, thisdir___0);
        }
        }
#line 335
        return;
      }
    }
    {
    {
#line 336
    f->rep1 = misc_readstring(pp, & length, (uschar *)((void *)0), 0);
    }
    }
#line 337
    if ((unsigned long )(pp + length) >= (unsigned long )q) {
      {
      {
#line 337
      error(11, thisdir___0);
      }
      }
#line 337
      return;
    }
  }
#line 343
  ff = & flaglist;
  {
  {
#line 344
  while (1) {
    while_continue___10: /* CIL Label */ ;
    while_continue___4: /* CIL Label */ ;
#line 344
    if ((unsigned long )*ff != (unsigned long )((void *)0)) {
#line 344
      if (! (f->length1 < (*ff)->length1)) {
#line 344
        goto while_break___4;
      }
    } else {
#line 344
      goto while_break___4;
    }
#line 344
    ff = & (*ff)->next;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___4: /* CIL Label */ ;
  }
#line 345
  f->next = *ff;
#line 346
  *ff = f;
#line 347
  return;
}
}
#line 361 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_include___0(uschar *p ) 
{ 
  istackstr *ist ;
  void *tmp ;
  char *tmp___0 ;
  int *tmp___1 ;
  char *tmp___2 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
  {
  {
#line 366
  tmp = misc_malloc((int )sizeof(istackstr ));
  }
#line 366
  ist = (istackstr *)tmp;
#line 367
  ist->prev = istack;
#line 368
  istack = ist;
#line 369
  ist->linenumber = 0;
  {
#line 371
  tmp___0 = strchr((char const   *)p, '/');
  }
  }
#line 371
  if ((unsigned long )((unsigned char *)tmp___0) != (unsigned long )((void *)0)) {
    {
    {
#line 371
    strcpy((char */* __restrict  */)((char *)(ist->filename)), (char const   */* __restrict  */)((char const   *)p));
    }
    }
  } else {
    {
    {
#line 372
    sprintf((char */* __restrict  */)((char *)(ist->filename)), (char const   */* __restrict  */)"%s/%s",
            xfpt_share, p);
    }
    }
  }
  {
  {
#line 374
  ist->file = fopen((char const   */* __restrict  */)((char const   *)(ist->filename)),
                    (char const   */* __restrict  */)"rb");
  }
  }
#line 375
  if ((unsigned long )ist->file == (unsigned long )((void *)0)) {
    {
    {
#line 375
    tmp___1 = __errno_location();
    }
    {
#line 375
    tmp___2 = strerror(*tmp___1);
    }
    {
#line 375
    error(0, ist->filename, tmp___2);
    }
    }
  }
#line 377
  from_type_ptr ++;
#line 377
  from_type[from_type_ptr] = 0;
#line 378
  return;
}
}
#line 394 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_inliteral___0(uschar *p ) 
{ 
  int state ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;

  {
#line 397
  state = -1;
#line 398
  if (from_type[from_type_ptr] != 1) {
    {
    {
#line 398
    error(15, (unsigned char *)".inliteral");
    }
    }
#line 398
    return;
  }
  {
  {
#line 399
  tmp___2 = strcmp((char const   *)p, "layout");
  }
  }
#line 399
  if (tmp___2 == 0) {
#line 399
    state = 1;
  } else {
    {
    {
#line 400
    tmp___1 = strcmp((char const   *)p, "text");
    }
    }
#line 400
    if (tmp___1 == 0) {
#line 400
      state = 2;
    } else {
      {
      {
#line 401
      tmp___0 = strcmp((char const   *)p, "off");
      }
      }
#line 401
      if (tmp___0 == 0) {
#line 401
        state = 0;
      } else {
        {
        {
#line 402
        tmp = strcmp((char const   *)p, "xml");
        }
        }
#line 402
        if (tmp == 0) {
#line 402
          state = 3;
        } else {
          {
          {
#line 403
          error(5, p);
          }
          }
        }
      }
    }
  }
#line 404
  if (literal_state != state) {
    {
    {
#line 404
    skipto___0((unsigned char *)"inliteral", (unsigned char *)".endinliteral");
    }
    }
  }
#line 405
  return;
}
}
#line 419 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_literal___0(uschar *p ) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
  {
  {
#line 422
  tmp___2 = strcmp((char const   *)p, "layout");
  }
  }
#line 422
  if (tmp___2 == 0) {
#line 422
    literal_state = 1;
  } else {
    {
    {
#line 423
    tmp___1 = strcmp((char const   *)p, "text");
    }
    }
#line 423
    if (tmp___1 == 0) {
#line 423
      literal_state = 2;
    } else {
      {
      {
#line 424
      tmp___0 = strcmp((char const   *)p, "off");
      }
      }
#line 424
      if (tmp___0 == 0) {
#line 424
        literal_state = 0;
      } else {
        {
        {
#line 425
        tmp = strcmp((char const   *)p, "xml");
        }
        }
#line 425
        if (tmp == 0) {
#line 425
          literal_state = 3;
        } else {
          {
          {
#line 426
          error(5, p);
          }
          }
        }
      }
    }
  }
#line 427
  return;
}
}
#line 441 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_macro___0(uschar *p ) 
{ 
  int length ;
  int nest ;
  argstr **pp ;
  macrodef *md ;
  void *tmp ;
  size_t tmp___0 ;
  argstr *tmp___1 ;
  argstr *as ;
  void *tmp___2 ;
  argstr *as___0 ;
  uschar *line ;
  uschar *tmp___3 ;
  unsigned short const   **tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  void *tmp___7 ;
  size_t tmp___8 ;
  void *tmp___9 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;

  {
  {
#line 445
  nest = 0;
  {
#line 447
  tmp = misc_malloc((int )sizeof(macrodef ));
  }
#line 447
  md = (macrodef *)tmp;
  {
#line 449
  md->name = misc_readitem(p, (uschar *)((void *)0), & length, (uschar *)((void *)0),
                           0);
  }
  {
#line 450
  tmp___0 = strlen((char const   *)md->name);
  }
#line 450
  md->namelength = (int )tmp___0;
#line 451
  p += length;
  }
#line 453
  if (length == 0) {
    {
    {
#line 455
    error(14);
    }
    }
#line 456
    return;
  }
#line 459
  tmp___1 = (argstr *)((void *)0);
#line 459
  md->args = tmp___1;
#line 459
  md->lines = tmp___1;
#line 460
  md->next = macrolist;
#line 461
  macrolist = md;
#line 463
  pp = & md->args;
  {
  {
#line 464
  while (1) {
    while_continue___1: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 464
    if (! ((int )*p != 0)) {
#line 464
      goto while_break;
    }
    {
    {
#line 466
    tmp___2 = misc_malloc((int )sizeof(argstr ));
    }
#line 466
    as = (argstr *)tmp___2;
#line 467
    as->next = (struct argstr *)((void *)0);
#line 468
    *pp = as;
#line 469
    pp = & as->next;
    {
#line 470
    as->string = misc_readitem(p, (uschar *)((void *)0), & length, (uschar *)((void *)0),
                               0);
    }
#line 471
    p += length;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 474
  pp = & md->lines;
  {
  {
#line 475
  while (1) {
    while_continue___2: /* CIL Label */ ;
    while_continue___0: /* CIL Label */ ;
    {
    {
#line 478
    tmp___3 = read_nextline();
    }
#line 478
    line = tmp___3;
    }
#line 479
    if ((unsigned long )line == (unsigned long )((void *)0)) {
      {
      {
#line 479
      error(13, ".endmacro");
      }
      }
#line 479
      return;
    }
    {
    {
#line 481
    tmp___6 = strncmp((char const   *)line, ".macro ", (size_t )7);
    }
    }
#line 481
    if (tmp___6 == 0) {
#line 481
      nest ++;
    } else {
      {
      {
#line 482
      tmp___5 = strncmp((char const   *)line, ".endmacro", (size_t )9);
      }
      }
#line 482
      if (tmp___5 == 0) {
        {
        {
#line 484
        tmp___4 = __ctype_b_loc();
        }
        }
#line 484
        if ((int const   )*(*tmp___4 + (int )*(line + 9)) & 8192) {
#line 484
          goto _L;
        } else
#line 484
        if ((int )*(line + 9) == 10) {
          _L: /* CIL Label */ 
#line 485
          nest --;
#line 485
          if (nest < 0) {
#line 485
            goto while_break___0;
          }
        }
      }
    }
    {
    {
#line 488
    tmp___7 = misc_malloc((int )sizeof(argstr ));
    }
#line 488
    as___0 = (argstr *)tmp___7;
#line 489
    as___0->next = (struct argstr *)((void *)0);
#line 490
    *pp = as___0;
#line 491
    pp = & as___0->next;
    {
#line 492
    tmp___8 = strlen((char const   *)line);
    }
    {
#line 492
    as___0->string = misc_copystring(line, (int )tmp___8);
    }
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 498
  if ((unsigned long )md->lines == (unsigned long )((void *)0)) {
    {
    {
#line 500
    tmp___9 = misc_malloc((int )sizeof(argstr ));
    }
#line 500
    md->lines = (argstr *)tmp___9;
#line 501
    (md->lines)->next = (struct argstr *)((void *)0);
    {
#line 502
    (md->lines)->string = misc_copystring((unsigned char *)". Dummy line\n", 13);
    }
    }
  }
#line 504
  return;
}
}
#line 520 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_nest___0(uschar *p ) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
  {
  {
#line 523
  tmp___1 = strcmp((char const   *)p, "begin");
  }
  }
#line 523
  if (tmp___1 == 0) {
#line 525
    if (nest_level >= 3) {
      {
      {
#line 525
      error(27);
      }
      }
    } else {
#line 527
      tmp = nest_level;
#line 527
      nest_level ++;
#line 527
      nest_literal_stack[tmp] = literal_state;
#line 528
      literal_state = 0;
    }
  } else {
    {
    {
#line 531
    tmp___0 = strcmp((char const   *)p, "end");
    }
    }
#line 531
    if (tmp___0 == 0) {
#line 533
      if (nest_level <= 0) {
        {
        {
#line 533
        error(28);
        }
        }
      } else {
#line 534
        nest_level --;
#line 534
        literal_state = nest_literal_stack[nest_level];
      }
    } else {
      {
      {
#line 536
      error(26, p);
      }
      }
    }
  }
#line 537
  return;
}
}
#line 556 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static uschar nonlbuffer___0[1024]  ;
#line 553 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_nonl___0(uschar *p ) 
{ 
  int len ;
  size_t tmp ;

  {
  {
  {
#line 557
  tmp = strlen((char const   *)p);
  }
#line 557
  len = (int )tmp + 1;
  }
#line 558
  if (len > 1024) {
#line 558
    len = 1024;
  }
  {
  {
#line 559
  strncpy((char */* __restrict  */)((char *)(nonlbuffer___0)), (char const   */* __restrict  */)((char const   *)p),
          (size_t )len);
  }
#line 560
  next_line = nonlbuffer___0;
  }
#line 561
  return;
}
}
#line 577 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_pop___0(uschar *p ) 
{ 
  pushstr *ps ;
  unsigned short const   **tmp ;

  {
#line 582
  if ((int )*p == 0) {
#line 584
    popto = 0;
#line 585
    return;
  }
  {
  {
#line 588
  tmp = __ctype_b_loc();
  }
  }
#line 588
  if ((int const   )*(*tmp + (int )*p) & 256) {
#line 588
    if ((int )*(p + 1) != 0) {
      {
      {
#line 588
      error(11, thisdir___0);
      }
      }
#line 588
      return;
    }
  } else {
    {
    {
#line 588
    error(11, thisdir___0);
    }
    }
#line 588
    return;
  }
#line 590
  ps = pushed;
  {
  {
#line 590
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 590
    if (! ((unsigned long )ps != (unsigned long )((void *)0))) {
#line 590
      goto while_break;
    }
#line 591
    if (ps->letter == (int )*p) {
#line 591
      goto while_break;
    }
#line 590
    ps = ps->next;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 593
  if ((unsigned long )ps != (unsigned long )((void *)0)) {
#line 593
    popto = (int )*p;
  }
#line 594
  return;
}
}
#line 611 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_push___0(uschar *p ) 
{ 
  int length ;
  int letter ;
  pushstr *ps ;
  uschar *porig ;
  uschar buffer[1024] ;
  uschar *tmp ;
  unsigned short const   **tmp___0 ;
  unsigned short const   **tmp___1 ;
  unsigned short const   **tmp___2 ;
  uschar *s ;
  uschar *tmp___3 ;
  unsigned short const   **tmp___4 ;
  size_t tmp___5 ;
  size_t tmp___6 ;
  void *tmp___7 ;
  void *__cil_tmp17 ;
  char *__cil_tmp18 ;

  {
  {
#line 615
  letter = 0;
#line 617
  porig = p;
  {
#line 620
  tmp___1 = __ctype_b_loc();
  }
  }
#line 620
  if ((int const   )*(*tmp___1 + (int )*p) & 256) {
#line 620
    if ((int )*(p + 1) == 0) {
#line 620
      goto _L;
    } else {
      {
      {
#line 620
      tmp___2 = __ctype_b_loc();
      }
      }
#line 620
      if ((int const   )*(*tmp___2 + (int )*(p + 1)) & 8192) {
        _L: /* CIL Label */ 
#line 622
        tmp = p;
#line 622
        p ++;
#line 622
        letter = (int )*tmp;
        {
        {
#line 623
        while (1) {
          while_continue___1: /* CIL Label */ ;
          while_continue: /* CIL Label */ ;
          {
          {
#line 623
          tmp___0 = __ctype_b_loc();
          }
          }
#line 623
          if (! ((int const   )*(*tmp___0 + (int )*p) & 8192)) {
#line 623
            goto while_break;
          }
#line 623
          p ++;
        }
        while_break___1: /* CIL Label */ ;
        }
        while_break: /* CIL Label */ ;
        }
      }
    }
  }
#line 626
  if ((int )*p == 34) {
    {
    {
#line 628
    tmp___3 = misc_readitem(p, (uschar *)((void *)0), & length, buffer, 1024);
    }
#line 628
    s = tmp___3;
#line 629
    p += length;
    }
    {
    {
#line 630
    while (1) {
      while_continue___2: /* CIL Label */ ;
      while_continue___0: /* CIL Label */ ;
      {
      {
#line 630
      tmp___4 = __ctype_b_loc();
      }
      }
#line 630
      if (! ((int const   )*(*tmp___4 + (int )*p) & 8192)) {
#line 630
        goto while_break___0;
      }
#line 630
      p ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 631
    if ((int )*p != 0) {
      {
      {
#line 631
      tmp___5 = strlen((char const   *)p);
      }
      {
#line 631
      error(19, ".push", porig, (p - porig) + 6L, spaces___0, (int )tmp___5, circumflexes___0);
      }
      }
    }
#line 633
    p = s;
  }
  {
  {
#line 636
  tmp___6 = strlen((char const   *)p);
  }
#line 636
  length = (int )tmp___6;
  {
#line 637
  tmp___7 = misc_malloc((int )(sizeof(pushstr ) + (unsigned long )length));
  }
#line 637
  ps = (pushstr *)tmp___7;
#line 638
  ps->letter = letter;
  {
#line 639
  memcpy((void */* __restrict  */)(ps->string), (void const   */* __restrict  */)p,
         (size_t )length);
  }
#line 640
  ps->string[length] = (uschar )0;
#line 641
  ps->next = pushed;
#line 642
  pushed = ps;
  }
#line 643
  return;
}
}
#line 659 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_revision___0(uschar *p ) 
{ 
  size_t tmp ;
  void *tmp___0 ;
  int tmp___1 ;
  char *__cil_tmp5 ;

  {
#line 662
  if ((unsigned long )revision != (unsigned long )((void *)0)) {
    {
    {
#line 664
    free((void *)revision);
    }
#line 665
    revision = (uschar *)((void *)0);
    }
  }
#line 668
  if ((int )*p != 0) {
    {
    {
#line 668
    tmp___1 = strcmp((char const   *)p, "off");
    }
    }
#line 668
    if (tmp___1 != 0) {
      {
      {
#line 670
      tmp = strlen((char const   *)p);
      }
      {
#line 670
      tmp___0 = misc_malloc((int )tmp + 1);
      }
#line 670
      revision = (uschar *)tmp___0;
      {
#line 671
      strcpy((char */* __restrict  */)((char *)revision), (char const   */* __restrict  */)((char const   *)p));
      }
      }
    }
  }
#line 673
  return;
}
}
#line 688 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static void do_set___0(uschar *p ) 
{ 
  int length ;
  tree_node *t ;
  uschar *porig ;
  uschar buffer[1024] ;
  uschar *name ;
  uschar *tmp ;
  unsigned short const   **tmp___0 ;
  size_t tmp___1 ;
  void *tmp___2 ;
  unsigned short const   **tmp___3 ;
  size_t tmp___4 ;
  int tmp___5 ;
  void *__cil_tmp14 ;
  char *__cil_tmp15 ;

  {
  {
#line 693
  porig = p;
  {
#line 695
  tmp = misc_readitem(p, (uschar *)((void *)0), & length, buffer, 1024);
  }
#line 695
  name = tmp;
#line 697
  p += length;
  }
  {
  {
#line 698
  while (1) {
    while_continue___1: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
    {
    {
#line 698
    tmp___0 = __ctype_b_loc();
    }
    }
#line 698
    if (! ((int const   )*(*tmp___0 + (int )*p) & 8192)) {
#line 698
      goto while_break;
    }
#line 698
    p ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
  {
  {
#line 700
  tmp___1 = strlen((char const   *)name);
  }
  {
#line 700
  tmp___2 = misc_malloc((int )(sizeof(tree_node ) + (unsigned long )((int )tmp___1)));
  }
#line 700
  t = (tree_node *)tmp___2;
  {
#line 701
  strcpy((char */* __restrict  */)((char *)(t->name)), (char const   */* __restrict  */)((char const   *)name));
  }
  {
#line 703
  t->data = misc_readitem(p, (uschar *)((void *)0), & length, (uschar *)((void *)0),
                          0);
  }
#line 705
  p += length;
  }
  {
  {
#line 706
  while (1) {
    while_continue___2: /* CIL Label */ ;
    while_continue___0: /* CIL Label */ ;
    {
    {
#line 706
    tmp___3 = __ctype_b_loc();
    }
    }
#line 706
    if (! ((int const   )*(*tmp___3 + (int )*p) & 8192)) {
#line 706
      goto while_break___0;
    }
#line 706
    p ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 707
  if ((int )*p != 0) {
    {
    {
#line 707
    tmp___4 = strlen((char const   *)p);
    }
    {
#line 707
    error(19, ".set", porig, (p - porig) + 5L, spaces___0, (int )tmp___4, circumflexes___0);
    }
    }
  }
  {
  {
#line 710
  tmp___5 = tree_insertnode(& entities, t);
  }
  }
#line 710
  if (! tmp___5) {
    {
    {
#line 710
    error(21, name);
    }
    }
  }
#line 711
  return;
}
}
#line 733 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static dirstr dirs___0[17]  = 
#line 733
  {      {(unsigned char *)".arg", 4, & do_arg___0, 1, 1}, 
        {(unsigned char *)".eacharg", 8, & do_eacharg___0, 1, 1}, 
        {(unsigned char *)".echo", 5, & do_echo___0, 1, 0}, 
        {(unsigned char *)".endarg", 7, & do_endarg___0, 0, 1}, 
        {(unsigned char *)".endeach", 8, & do_endeach___0, 1, 1}, 
        {(unsigned char *)".endinliteral", 13, & do_endinliteral___0, 0, 1}, 
        {(unsigned char *)".flag", 5, & do_flag___0, 0, 0}, 
        {(unsigned char *)".include", 8, & do_include___0, 1, 0}, 
        {(unsigned char *)".inliteral", 10, & do_inliteral___0, 1, 1}, 
        {(unsigned char *)".literal", 8, & do_literal___0, 1, 0}, 
        {(unsigned char *)".macro", 6, & do_macro___0, 0, 0}, 
        {(unsigned char *)".nest", 5, & do_nest___0, 1, 0}, 
        {(unsigned char *)".nonl", 5, & do_nonl___0, 1, 0}, 
        {(unsigned char *)".pop", 4, & do_pop___0, 1, 0}, 
        {(unsigned char *)".push", 5, & do_push___0, 0, 0}, 
        {(unsigned char *)".revision", 9, & do_revision___0, 1, 0}, 
        {(unsigned char *)".set", 4, & do_set___0, 0, 0}};
#line 753 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/dot.c"
static int cmdcount___0  =    (int )(sizeof(dirs___0) / sizeof(dirstr ));
#line 25 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/literal.c"
void literal_process(uschar *p ) 
{ 
  int c ;
  uschar *tmp ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
  {
  {
#line 28
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 28
    if (! ((int )*p != 0)) {
#line 28
      goto while_break;
    }
#line 30
    tmp = p;
#line 30
    p ++;
#line 30
    c = (int )*tmp;
#line 31
    if (c == 38) {
      {
      {
#line 31
      fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&amp;");
      }
      }
    } else
#line 32
    if (c == 60) {
      {
      {
#line 32
      fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&lt;");
      }
      }
    } else
#line 33
    if (c == 62) {
      {
      {
#line 33
      fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&gt;");
      }
      }
    } else {
      {
      {
#line 34
      fputc(c, outfile);
      }
      }
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 36
  return;
}
}
#line 18 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/xfpt.c"
static uschar *xfpt_filename___0  =    (uschar *)((void *)0);
#line 19 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/xfpt.c"
static uschar *out_filename___0  =    (uschar *)((void *)0);
#line 28 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/xfpt.c"
static void usage___0(void) 
{ 
  char *__cil_tmp1 ;

  {
  {
  {
#line 31
  fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Usage: xfpt [-help]\n            [-o <output-file>]\n            [-S <share-directory>]\n            [-v]\n            [input-file]\n");
  }
  }
#line 37
  return;
}
}
#line 50 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/xfpt.c"
static BOOL xfpt_decode_arg___0(int argc , char **argv ) 
{ 
  int i ;
  uschar *arg ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  uschar *p ;
  int len ;
  size_t tmp___4 ;
  void *tmp___5 ;
  char *tmp___6 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;

  {
#line 54
  i = 1;
  {
  {
#line 54
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 54
    if (! (i < argc)) {
#line 54
      goto while_break;
    }
#line 56
    arg = (unsigned char *)*(argv + i);
#line 57
    if ((int )*arg != 45) {
#line 57
      goto while_break;
    }
    {
    {
#line 58
    tmp___3 = strcmp((char const   *)arg, "-o");
    }
    }
#line 58
    if (tmp___3 == 0) {
#line 60
      i ++;
#line 60
      out_filename___0 = (unsigned char *)*(argv + i);
#line 61
      if ((unsigned long )out_filename___0 == (unsigned long )((void *)0)) {
        {
        {
#line 61
        usage___0();
        }
        }
#line 61
        return (0);
      }
    } else {
      {
      {
#line 63
      tmp___2 = strcmp((char const   *)arg, "-S");
      }
      }
#line 63
      if (tmp___2 == 0) {
#line 65
        i ++;
#line 65
        xfpt_share = (unsigned char *)*(argv + i);
#line 66
        if ((unsigned long )xfpt_share == (unsigned long )((void *)0)) {
          {
          {
#line 66
          usage___0();
          }
          }
#line 66
          return (0);
        }
      } else {
        {
        {
#line 68
        tmp___0 = strcmp((char const   *)arg, "-help");
        }
        }
#line 68
        if (tmp___0 == 0) {
          {
          {
#line 70
          usage___0();
          }
          }
#line 71
          return (0);
        } else {
          {
          {
#line 68
          tmp___1 = strcmp((char const   *)arg, "--help");
          }
          }
#line 68
          if (tmp___1 == 0) {
            {
            {
#line 70
            usage___0();
            }
            }
#line 71
            return (0);
          } else {
            {
            {
#line 73
            tmp = strcmp((char const   *)arg, "-v");
            }
            }
#line 73
            if (tmp == 0) {
              {
              {
#line 75
              fprintf((FILE */* __restrict  */)stdout, (char const   */* __restrict  */)"xpft version %s\n",
                      xfpt_version);
              }
              {
#line 76
              exit(0);
              }
              }
            } else {
              {
              {
#line 80
              fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"xfpt: unknown option \"%s\"\n",
                      arg);
              }
              {
#line 81
              usage___0();
              }
              }
#line 82
              return (0);
            }
          }
        }
      }
    }
#line 54
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 88
  if (argc > i + 1) {
    {
    {
#line 90
    usage___0();
    }
    }
#line 91
    return (0);
  }
#line 97
  xfpt_filename___0 = (unsigned char *)*(argv + i);
#line 98
  if ((unsigned long )xfpt_filename___0 != (unsigned long )((void *)0)) {
#line 98
    if ((unsigned long )out_filename___0 == (unsigned long )((void *)0)) {
      {
      {
#line 101
      tmp___4 = strlen((char const   *)xfpt_filename___0);
      }
#line 101
      len = (int )tmp___4;
      {
#line 102
      tmp___5 = misc_malloc(len + 5);
      }
#line 102
      out_filename___0 = (uschar *)tmp___5;
      {
#line 103
      strcpy((char */* __restrict  */)((char *)out_filename___0), (char const   */* __restrict  */)((char const   *)xfpt_filename___0));
      }
      {
#line 104
      tmp___6 = strrchr((char const   *)out_filename___0, '.');
      }
#line 104
      p = (unsigned char *)tmp___6;
      }
#line 104
      if ((unsigned long )p != (unsigned long )((void *)0)) {
#line 104
        len = (int )(p - out_filename___0);
      }
      {
      {
#line 105
      strcpy((char */* __restrict  */)((char *)(out_filename___0 + len)), (char const   */* __restrict  */)".xml");
      }
      }
    }
  }
#line 108
  return (1);
}
}
#line 604 "/usr/include/stdio.h"
extern char *fgets(char * __restrict  __s , int __n , FILE * __restrict  __stream ) ;
#line 48 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__nonnull__(1,2))) memmove)(void *__dest ,
                                                                                        void const   *__src ,
                                                                                        size_t __n ) ;
#line 31 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/read.c"
void read_process_macroline(uschar *p , uschar *b ) 
{ 
  int optend ;
  int i ;
  int argn ;
  argstr *argbase ;
  argstr *arg ;
  uschar *tmp ;
  uschar *tmp___0 ;
  uschar *tmp___1 ;
  uschar *tmp___2 ;
  uschar *tmp___3 ;
  uschar *tmp___4 ;
  uschar *tmp___5 ;
  uschar *tmp___6 ;
  uschar *tmp___7 ;
  uschar *tmp___8 ;
  unsigned short const   **tmp___9 ;
  unsigned short const   **tmp___10 ;
  uschar *tmp___11 ;
  uschar *tmp___12 ;
  uschar *tmp___13 ;
  unsigned short const   **tmp___14 ;
  unsigned short const   **tmp___15 ;
  int tmp___16 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;

  {
#line 34
  optend = 0;
  {
  {
#line 36
  while (1) {
    while_continue___6: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 36
    if (! ((int )*p != 0)) {
#line 36
      goto while_break;
    }
#line 39
    argn = 0;
#line 45
    if ((int )*p == optend) {
#line 47
      optend = 0;
#line 48
      p ++;
#line 49
      goto while_continue;
    }
#line 54
    if ((int )*p != 36) {
#line 54
      tmp = b;
#line 54
      b ++;
#line 54
      tmp___0 = p;
#line 54
      p ++;
#line 54
      *tmp = *tmp___0;
#line 54
      goto while_continue;
    }
#line 58
    if ((int )*(p + 1) == 36) {
#line 58
      p ++;
#line 58
      tmp___1 = b;
#line 58
      b ++;
#line 58
      tmp___2 = p;
#line 58
      p ++;
#line 58
      *tmp___1 = *tmp___2;
#line 58
      goto while_continue;
    }
#line 64
    if ((int )*(p + 1) == 43) {
#line 66
      p ++;
#line 67
      if ((unsigned long )macro_argbase == (unsigned long )((void *)0)) {
        {
        {
#line 69
        error(18);
        }
#line 70
        tmp___3 = b;
#line 70
        b ++;
#line 70
        *tmp___3 = (uschar )'+';
#line 71
        tmp___4 = b;
#line 71
        b ++;
#line 71
        tmp___5 = p;
#line 71
        p ++;
#line 71
        *tmp___4 = *tmp___5;
        }
#line 72
        goto while_continue;
      }
#line 74
      argbase = macro_argbase;
    } else {
#line 76
      argbase = macrocurrent->args;
    }
#line 80
    if ((int )*(p + 1) == 61) {
      {
#line 82
      p ++;
      {
#line 83
      tmp___9 = __ctype_b_loc();
      }
      }
#line 83
      if (! ((int const   )*(*tmp___9 + (int )*(p + 1)) & 2048)) {
        {
        {
#line 85
        error(17, (int )*(p + 1), "$=");
        }
#line 86
        tmp___6 = b;
#line 86
        b ++;
#line 86
        *tmp___6 = (uschar )'$';
#line 87
        tmp___7 = b;
#line 87
        b ++;
#line 87
        tmp___8 = p;
#line 87
        p ++;
#line 87
        *tmp___7 = *tmp___8;
        }
#line 88
        goto while_continue;
      }
      {
      {
#line 90
      while (1) {
        while_continue___7: /* CIL Label */ ;
        while_continue___0: /* CIL Label */ ;
        {
        {
#line 90
        tmp___10 = __ctype_b_loc();
        }
#line 90
        p ++;
        }
#line 90
        if (! ((int const   )*(*tmp___10 + (int )*p) & 2048)) {
#line 90
          goto while_break___0;
        }
#line 90
        argn = (argn * 10 + (int )*p) - 48;
      }
      while_break___7: /* CIL Label */ ;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 92
      tmp___11 = p;
#line 92
      p ++;
#line 92
      optend = (int )*tmp___11;
#line 94
      arg = argbase;
#line 95
      i = 1;
      {
      {
#line 95
      while (1) {
        while_continue___8: /* CIL Label */ ;
        while_continue___1: /* CIL Label */ ;
#line 95
        if (! (i < argn)) {
#line 95
          goto while_break___1;
        }
#line 97
        if ((unsigned long )arg == (unsigned long )((void *)0)) {
#line 97
          goto while_break___1;
        }
#line 98
        arg = arg->next;
#line 95
        i ++;
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break___1: /* CIL Label */ ;
      }
#line 101
      if ((unsigned long )arg == (unsigned long )((void *)0)) {
#line 101
        goto _L;
      } else
#line 101
      if ((int )*(arg->string + 0) == 0) {
        _L: /* CIL Label */ 
        {
        {
#line 103
        while (1) {
          while_continue___9: /* CIL Label */ ;
          while_continue___2: /* CIL Label */ ;
#line 103
          if ((int )*p != 0) {
#line 103
            if (! ((int )*p != optend)) {
#line 103
              goto while_break___2;
            }
          } else {
#line 103
            goto while_break___2;
          }
#line 103
          p ++;
        }
        while_break___9: /* CIL Label */ ;
        }
        while_break___2: /* CIL Label */ ;
        }
#line 104
        if ((int )*p == optend) {
#line 104
          p ++;
        }
      }
#line 107
      goto while_continue;
    }
    {
    {
#line 112
    tmp___14 = __ctype_b_loc();
    }
    }
#line 112
    if (! ((int const   )*(*tmp___14 + (int )*(p + 1)) & 2048)) {
      {
      {
#line 114
      error(17, (int )*(p + 1), "$");
      }
#line 115
      tmp___12 = b;
#line 115
      b ++;
#line 115
      tmp___13 = p;
#line 115
      p ++;
#line 115
      *tmp___12 = *tmp___13;
      }
#line 116
      goto while_continue;
    }
    {
    {
#line 119
    while (1) {
      while_continue___10: /* CIL Label */ ;
      while_continue___3: /* CIL Label */ ;
      {
      {
#line 119
      tmp___15 = __ctype_b_loc();
      }
#line 119
      p ++;
      }
#line 119
      if (! ((int const   )*(*tmp___15 + (int )*p) & 2048)) {
#line 119
        goto while_break___3;
      }
#line 119
      argn = (argn * 10 + (int )*p) - 48;
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___3: /* CIL Label */ ;
    }
#line 123
    if (argn == 0) {
#line 125
      goto while_continue;
    }
#line 130
    arg = argbase;
#line 131
    i = 1;
    {
    {
#line 131
    while (1) {
      while_continue___11: /* CIL Label */ ;
      while_continue___4: /* CIL Label */ ;
#line 131
      if (! (i < argn)) {
#line 131
        goto while_break___4;
      }
#line 133
      if ((unsigned long )arg == (unsigned long )((void *)0)) {
#line 133
        goto while_break___4;
      }
#line 134
      arg = arg->next;
#line 131
      i ++;
    }
    while_break___11: /* CIL Label */ ;
    }
    while_break___4: /* CIL Label */ ;
    }
#line 140
    if ((unsigned long )arg == (unsigned long )((void *)0)) {
#line 140
      if ((unsigned long )argbase == (unsigned long )macrocurrent->args) {
#line 142
        arg = (macrocurrent->macro)->args;
#line 143
        i = 1;
        {
        {
#line 143
        while (1) {
          while_continue___12: /* CIL Label */ ;
          while_continue___5: /* CIL Label */ ;
#line 143
          if (! (i < argn)) {
#line 143
            goto while_break___5;
          }
#line 145
          if ((unsigned long )arg == (unsigned long )((void *)0)) {
#line 145
            goto while_break___5;
          }
#line 146
          arg = arg->next;
#line 143
          i ++;
        }
        while_break___12: /* CIL Label */ ;
        }
        while_break___5: /* CIL Label */ ;
        }
      }
    }
#line 152
    if ((unsigned long )arg != (unsigned long )((void *)0)) {
      {
      {
#line 152
      tmp___16 = sprintf((char */* __restrict  */)((char *)b), (char const   */* __restrict  */)"%s",
                         arg->string);
      }
#line 152
      b += tmp___16;
      }
    }
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 155
  *b = (uschar )0;
#line 156
  return;
}
}
#line 181 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/read.c"
uschar *read_nextline(void) 
{ 
  int len ;
  uschar *p ;
  uschar *q ;
  uschar *yield ;
  pushstr *ps ;
  pushstr *ps___0 ;
  macroexe *temp ;
  istackstr *prev ;
  size_t tmp ;
  unsigned short const   **tmp___0 ;
  int tmp___1 ;
  char *tmp___2 ;
  size_t tmp___3 ;
  char *tmp___4 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;

  {
#line 189
  if ((unsigned long )next_line != (unsigned long )((void *)0)) {
#line 191
    yield = next_line;
#line 192
    next_line = (uschar *)((void *)0);
#line 193
    return (yield);
  }
#line 198
  if (popto == 0) {
#line 200
    ps = pushed;
#line 201
    if ((unsigned long )ps == (unsigned long )((void *)0)) {
      {
      {
#line 201
      error(12);
      }
      }
    } else {
      {
#line 203
      popto = -1;
      {
#line 204
      sprintf((char */* __restrict  */)((char *)inbuffer), (char const   */* __restrict  */)"%s\n",
              ps->string);
      }
#line 205
      pushed = ps->next;
      {
#line 206
      free((void *)ps);
      }
      }
#line 207
      return (inbuffer);
    }
  }
#line 216
  if (popto > 0) {
#line 218
    ps___0 = pushed;
#line 219
    if (ps___0->letter == popto) {
#line 219
      popto = -1;
    }
    {
    {
#line 220
    sprintf((char */* __restrict  */)((char *)inbuffer), (char const   */* __restrict  */)"%s\n",
            ps___0->string);
    }
#line 221
    pushed = ps___0->next;
    {
#line 222
    free((void *)ps___0);
    }
    }
#line 223
    return (inbuffer);
  }
  {
  {
#line 229
  while (1) {
    while_continue___3: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 231
    if (from_type[from_type_ptr] == 1) {
#line 233
      if ((unsigned long )macrocurrent->nextline == (unsigned long )((void *)0)) {
        {
#line 235
        temp = macrocurrent;
#line 236
        macrocurrent = macrocurrent->prev;
        {
#line 237
        free((void *)temp);
        }
        }
      } else {
        {
        {
#line 241
        read_process_macroline((macrocurrent->nextline)->string, inbuffer);
        }
#line 242
        macrocurrent->nextline = (macrocurrent->nextline)->next;
        }
#line 243
        goto while_break;
      }
    } else {
#line 252
      if ((unsigned long )istack == (unsigned long )((void *)0)) {
#line 252
        return ((uschar *)((void *)0));
      }
      {
      {
#line 253
      tmp___4 = fgets((char */* __restrict  */)((char *)inbuffer), 1024, (FILE */* __restrict  */)istack->file);
      }
      }
#line 253
      if ((unsigned long )((unsigned char *)tmp___4) == (unsigned long )((void *)0)) {
        {
#line 255
        prev = istack->prev;
        {
#line 256
        fclose(istack->file);
        }
        {
#line 257
        free((void *)istack);
        }
#line 258
        istack = prev;
        }
      } else {
        {
#line 262
        (istack->linenumber) ++;
#line 264
        q = inbuffer;
        {
#line 265
        tmp = strlen((char const   *)q);
        }
#line 265
        len = (int )tmp;
        }
        {
        {
#line 267
        while (1) {
          while_continue___4: /* CIL Label */ ;
          while_continue___0: /* CIL Label */ ;
#line 269
          p = q + len;
          {
          {
#line 270
          while (1) {
            while_continue___5: /* CIL Label */ ;
            while_continue___1: /* CIL Label */ ;
#line 270
            if ((unsigned long )p > (unsigned long )q) {
              {
              {
#line 270
              tmp___0 = __ctype_b_loc();
              }
              }
#line 270
              if (! ((int const   )*(*tmp___0 + (int )*(p + -1)) & 8192)) {
#line 270
                goto while_break___1;
              }
            } else {
#line 270
              goto while_break___1;
            }
#line 270
            p --;
          }
          while_break___5: /* CIL Label */ ;
          }
          while_break___1: /* CIL Label */ ;
          }
#line 272
          if (p - q < 3L) {
#line 272
            goto while_break___0;
          } else {
            {
            {
#line 272
            tmp___1 = strncmp((char const   *)(p - 3), "&&&", (size_t )3);
            }
            }
#line 272
            if (tmp___1 != 0) {
#line 272
              goto while_break___0;
            }
          }
#line 274
          q = p - 3;
#line 275
          *q = (uschar )0;
#line 277
          if ((unsigned long )istack == (unsigned long )((void *)0)) {
#line 279
            goto while_break___0;
          } else {
            {
            {
#line 277
            tmp___2 = fgets((char */* __restrict  */)((char *)q), (int )(1024L - (q - inbuffer)),
                            (FILE */* __restrict  */)istack->file);
            }
            }
#line 277
            if ((unsigned long )((unsigned char *)tmp___2) == (unsigned long )((void *)0)) {
#line 279
              goto while_break___0;
            }
          }
#line 281
          (istack->linenumber) ++;
#line 282
          p = q;
          {
          {
#line 283
          while (1) {
            while_continue___6: /* CIL Label */ ;
            while_continue___2: /* CIL Label */ ;
#line 283
            if (! ((int )*p == 32)) {
#line 283
              if (! ((int )*p == 9)) {
#line 283
                goto while_break___2;
              }
            }
#line 283
            p ++;
          }
          while_break___6: /* CIL Label */ ;
          }
          while_break___2: /* CIL Label */ ;
          }
          {
          {
#line 284
          tmp___3 = strlen((char const   *)p);
          }
#line 284
          len = (int )tmp___3;
          }
#line 285
          if ((unsigned long )p > (unsigned long )q) {
            {
            {
#line 285
            memmove((void *)q, (void const   *)p, (size_t )(len + 1));
            }
            }
          }
        }
        while_break___4: /* CIL Label */ ;
        }
        while_break___0: /* CIL Label */ ;
        }
#line 288
        goto while_break;
      }
    }
#line 296
    from_type_ptr --;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 299
  return (inbuffer);
}
}
#line 329 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/read.c"
uschar *read_paragraph(uschar *p , int *nest_info ) 
{ 
  uschar *q ;
  int length ;
  size_t tmp ;
  uschar *s ;
  int tmp___0 ;
  unsigned short const   **tmp___1 ;
  size_t tmp___2 ;
  unsigned short const   **tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  size_t tmp___7 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;

  {
  {
#line 332
  q = parabuffer;
  {
#line 333
  tmp = strlen((char const   *)p);
  }
#line 333
  length = (int )tmp;
  {
#line 335
  memcpy((void */* __restrict  */)q, (void const   */* __restrict  */)p, (size_t )length);
  }
#line 336
  q += length;
#line 338
  *nest_info = 0;
  }
  {
  {
#line 340
  while (1) {
    while_continue___3: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
    {
    {
#line 344
    p = read_nextline();
    }
    }
#line 344
    if ((unsigned long )p == (unsigned long )((void *)0)) {
#line 344
      goto while_break;
    }
    {
    {
#line 346
    tmp___0 = strncmp((char const   *)p, ".literal ", (size_t )9);
    }
    }
#line 346
    if (tmp___0 == 0) {
#line 348
      next_line = p;
#line 349
      goto while_break;
    }
    {
    {
#line 352
    tmp___6 = strncmp((char const   *)p, ".nest ", (size_t )6);
    }
    }
#line 352
    if (tmp___6 == 0) {
#line 354
      p += 6;
      {
      {
#line 355
      while (1) {
        while_continue___4: /* CIL Label */ ;
        while_continue___0: /* CIL Label */ ;
        {
        {
#line 355
        tmp___1 = __ctype_b_loc();
        }
        }
#line 355
        if (! ((int const   )*(*tmp___1 + (int )*p) & 8192)) {
#line 355
          goto while_break___0;
        }
#line 355
        p ++;
      }
      while_break___4: /* CIL Label */ ;
      }
      while_break___0: /* CIL Label */ ;
      }
      {
      {
#line 356
      tmp___2 = strlen((char const   *)p);
      }
#line 356
      s = p + (int )tmp___2;
      }
      {
      {
#line 357
      while (1) {
        while_continue___5: /* CIL Label */ ;
        while_continue___1: /* CIL Label */ ;
#line 357
        if ((unsigned long )s > (unsigned long )p) {
          {
          {
#line 357
          tmp___3 = __ctype_b_loc();
          }
          }
#line 357
          if (! ((int const   )*(*tmp___3 + (int )*(s + -1)) & 8192)) {
#line 357
            goto while_break___1;
          }
        } else {
#line 357
          goto while_break___1;
        }
#line 357
        s --;
      }
      while_break___5: /* CIL Label */ ;
      }
      while_break___1: /* CIL Label */ ;
      }
      {
#line 358
      *s = (uschar )0;
      {
#line 359
      tmp___5 = strcmp((char const   *)p, "begin");
      }
      }
#line 359
      if (tmp___5 == 0) {
#line 359
        *nest_info = 1;
      } else {
        {
        {
#line 360
        tmp___4 = strcmp((char const   *)p, "end");
        }
        }
#line 360
        if (tmp___4 == 0) {
#line 360
          *nest_info = 2;
        } else {
          {
          {
#line 361
          error(26, p);
          }
          }
        }
      }
#line 362
      goto while_break;
    } else
#line 365
    if ((int )*p == 46) {
      {
      {
#line 367
      dot_process(p);
      }
      }
#line 368
      goto __Cont;
    }
#line 373
    s = p;
    {
    {
#line 373
    while (1) {
      while_continue___6: /* CIL Label */ ;
      while_continue___2: /* CIL Label */ ;
#line 373
      if (! ((int )*s == 32)) {
#line 373
        if (! ((int )*s == 9)) {
#line 373
          goto while_break___2;
        }
      }
#line 373
      s ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 374
    if ((int )*s == 10) {
#line 374
      goto while_break;
    }
    {
    {
#line 376
    tmp___7 = strlen((char const   *)p);
    }
#line 376
    length = (int )tmp___7;
    {
#line 377
    memcpy((void */* __restrict  */)q, (void const   */* __restrict  */)p, (size_t )length);
    }
#line 378
    q += length;
    }
    __Cont: /* CIL Label */ ;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 381
  *q = (uschar )0;
#line 382
  return (parabuffer);
}
}
#line 49 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/tree.c"
int tree_insertnode(tree_node **treebase , tree_node *node ) 
{ 
  tree_node *p ;
  tree_node **q ;
  tree_node *r ;
  tree_node *s ;
  tree_node **t ;
  int a ;
  struct tree_node *tmp ;
  int c ;
  int tmp___0 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___5 ;

  {
#line 52
  p = *treebase;
#line 56
  tmp = (struct tree_node *)((void *)0);
#line 56
  node->right = tmp;
#line 56
  node->left = tmp;
#line 57
  node->balance = (uschar )0;
#line 61
  if ((unsigned long )p == (unsigned long )((void *)0)) {
#line 63
    *treebase = node;
#line 64
    return (1);
  }
#line 71
  q = treebase;
#line 72
  t = q;
  {
  {
#line 76
  while (1) {
    while_continue___1: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
    {
    {
#line 78
    tmp___0 = strcmp((char const   *)(node->name), (char const   *)(p->name));
    }
#line 78
    c = tmp___0;
    }
#line 79
    if (c == 0) {
#line 79
      return (0);
    }
#line 84
    if (c > 0) {
#line 84
      q = & p->right;
    } else {
#line 84
      q = & p->left;
    }
#line 85
    p = *q;
#line 86
    if ((unsigned long )p == (unsigned long )((void *)0)) {
#line 86
      goto while_break;
    }
#line 91
    if ((int )p->balance != 0) {
#line 91
      t = q;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 97
  *q = node;
#line 102
  s = *t;
  {
#line 103
  tmp___2 = strcmp((char const   *)(node->name), (char const   *)(s->name));
  }
  }
#line 103
  if (tmp___2 > 0) {
#line 103
    r = s->right;
  } else {
#line 103
    r = s->left;
  }
#line 107
  p = r;
  {
  {
#line 109
  while (1) {
    while_continue___2: /* CIL Label */ ;
    while_continue___0: /* CIL Label */ ;
#line 109
    if (! ((unsigned long )p != (unsigned long )node)) {
#line 109
      goto while_break___0;
    }
    {
    {
#line 111
    tmp___3 = strcmp((char const   *)(node->name), (char const   *)(p->name));
    }
    }
#line 111
    if (tmp___3 < 0) {
#line 113
      p->balance = (uschar )1;
#line 114
      p = p->left;
    } else {
#line 118
      p->balance = (uschar )2;
#line 119
      p = p->right;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
  {
#line 125
  tmp___5 = strcmp((char const   *)(node->name), (char const   *)(s->name));
  }
  }
#line 125
  if (tmp___5 < 0) {
#line 125
    a = 1;
  } else {
#line 125
    a = 2;
  }
#line 127
  if ((int )s->balance == 0) {
#line 127
    s->balance = (uschar )a;
  } else
#line 128
  if ((int )s->balance != (int )((uschar )a)) {
#line 128
    s->balance = (uschar )0;
  } else {
#line 133
    if ((int )r->balance == (int )((uschar )a)) {
#line 135
      p = r;
#line 136
      if (a == 2) {
#line 138
        s->right = r->left;
#line 139
        r->left = s;
      } else {
#line 143
        s->left = r->right;
#line 144
        r->right = s;
      }
#line 146
      s->balance = (uschar )0;
#line 147
      r->balance = (uschar )0;
    } else {
#line 157
      if (a == 2) {
#line 159
        if ((unsigned long )r->left == (unsigned long )((void *)0)) {
#line 159
          return (1);
        }
#line 160
        p = r->left;
#line 161
        r->left = p->right;
#line 162
        p->right = r;
#line 163
        s->right = p->left;
#line 164
        p->left = s;
      } else {
#line 168
        if ((unsigned long )r->right == (unsigned long )((void *)0)) {
#line 168
          return (1);
        }
#line 169
        p = r->right;
#line 170
        r->right = p->left;
#line 171
        p->left = r;
#line 172
        s->left = p->right;
#line 173
        p->right = s;
      }
#line 176
      if ((int )p->balance == (int )((uschar )a)) {
#line 176
        s->balance = (uschar )(a ^ 3);
      } else {
#line 176
        s->balance = (uschar )0;
      }
#line 177
      if ((int )p->balance == (int )((uschar )(a ^ 3))) {
#line 177
        r->balance = (uschar )a;
      } else {
#line 177
        r->balance = (uschar )0;
      }
#line 178
      p->balance = (uschar )0;
    }
#line 183
    *t = p;
  }
#line 186
  return (1);
}
}
#line 203 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/tree.c"
tree_node *tree_search(tree_node *p , uschar *name ) 
{ 
  int c ;
  int tmp ;

  {
  {
  {
#line 206
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 206
    if (! ((unsigned long )p != (unsigned long )((void *)0))) {
#line 206
      goto while_break;
    }
    {
    {
#line 208
    tmp = strcmp((char const   *)name, (char const   *)(p->name));
    }
#line 208
    c = tmp;
    }
#line 209
    if (c == 0) {
#line 209
      return (p);
    }
#line 210
    if (c < 0) {
#line 210
      p = p->left;
    } else {
#line 210
      p = p->right;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 212
  return ((tree_node *)((void *)0));
}
}
#line 471 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) void *malloc(size_t __size )  __attribute__((__malloc__)) ;
#line 25 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/misc.c"
void misc_detrail(uschar *p ) 
{ 
  uschar *q ;
  size_t tmp ;
  unsigned short const   **tmp___0 ;

  {
  {
  {
#line 28
  tmp = strlen((char const   *)p);
  }
#line 28
  q = p + (int )tmp;
  }
  {
  {
#line 29
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 29
    if ((unsigned long )q > (unsigned long )p) {
      {
      {
#line 29
      tmp___0 = __ctype_b_loc();
      }
      }
#line 29
      if (! ((int const   )*(*tmp___0 + (int )*(q + -1)) & 8192)) {
#line 29
        goto while_break;
      }
    } else {
#line 29
      goto while_break;
    }
#line 29
    q --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 30
  *q = (uschar )0;
#line 31
  return;
}
}
#line 44 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/misc.c"
void *misc_malloc(int size ) 
{ 
  void *yield ;
  void *tmp ;

  {
  {
  {
#line 47
  tmp = malloc((size_t )size);
  }
#line 47
  yield = tmp;
  }
#line 48
  if ((unsigned long )yield == (unsigned long )((void *)0)) {
    {
    {
#line 48
    error(1, size);
    }
    }
  }
#line 49
  return (yield);
}
}
#line 65 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/misc.c"
uschar *misc_copystring(uschar *p , int length ) 
{ 
  uschar *yield ;
  void *tmp ;

  {
  {
  {
#line 68
  tmp = misc_malloc(length + 1);
  }
#line 68
  yield = (uschar *)tmp;
  {
#line 69
  memcpy((void */* __restrict  */)yield, (void const   */* __restrict  */)p, (size_t )length);
  }
#line 70
  *(yield + length) = (uschar )0;
  }
#line 71
  return (yield);
}
}
#line 95 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/misc.c"
uschar *misc_readstring(uschar *p , int *lptr , uschar *buffer , int blength ) 
{ 
  int term ;
  int length ;
  uschar *pp ;
  uschar *yield ;
  void *tmp ;
  uschar *tmp___0 ;

  {
#line 98
  term = (int )*p;
#line 102
  pp = p + 1;
  {
  {
#line 102
  while (1) {
    while_continue___1: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 104
    if ((int )*pp == 0) {
#line 104
      goto while_break;
    }
#line 105
    if ((int )*pp == term) {
#line 105
      if ((int )*(pp + 1) != term) {
#line 105
        goto while_break;
      }
#line 105
      pp ++;
    }
#line 102
    pp ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 108
  length = (int )(pp - p);
#line 109
  if ((unsigned long )lptr != (unsigned long )((void *)0)) {
#line 109
    *lptr = length + 1;
  }
#line 111
  if ((unsigned long )buffer == (unsigned long )((void *)0)) {
    {
    {
#line 113
    tmp = misc_malloc(length + 1);
    }
#line 113
    pp = (uschar *)tmp;
#line 113
    yield = pp;
    }
  } else {
#line 117
    if (length + 1 > blength) {
      {
      {
#line 117
      error(20, length + 1, blength);
      }
      }
    }
#line 118
    pp = buffer;
#line 118
    yield = pp;
  }
#line 121
  p ++;
  {
  {
#line 121
  while (1) {
    while_continue___2: /* CIL Label */ ;
    while_continue___0: /* CIL Label */ ;
#line 123
    if ((int )*p == 0) {
#line 123
      goto while_break___0;
    }
#line 124
    if ((int )*p == term) {
#line 124
      if ((int )*(p + 1) != term) {
#line 124
        goto while_break___0;
      }
#line 124
      p ++;
    }
#line 125
    tmp___0 = pp;
#line 125
    pp ++;
#line 125
    *tmp___0 = *p;
#line 121
    p ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 128
  *pp = (uschar )0;
#line 130
  return (yield);
}
}
#line 153 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/misc.c"
uschar *misc_readitem(uschar *p , uschar *term , int *lptr , uschar *buffer , int blength ) 
{ 
  uschar *yield ;
  int length ;
  uschar *pp ;
  unsigned short const   **tmp ;
  char *tmp___0 ;
  void *tmp___1 ;
  unsigned short const   **tmp___2 ;

  {
#line 159
  if ((int )*p == 34) {
    {
    {
#line 161
    yield = misc_readstring(p, & length, buffer, blength);
    }
#line 162
    p += length;
    }
  } else
#line 159
  if ((int )*p == 39) {
    {
    {
#line 161
    yield = misc_readstring(p, & length, buffer, blength);
    }
#line 162
    p += length;
    }
  } else {
#line 167
    pp = p;
#line 168
    if ((unsigned long )term == (unsigned long )((void *)0)) {
      {
      {
#line 169
      while (1) {
        while_continue___2: /* CIL Label */ ;
        while_continue: /* CIL Label */ ;
#line 169
        if ((int )*p != 0) {
          {
          {
#line 169
          tmp = __ctype_b_loc();
          }
          }
#line 169
          if ((int const   )*(*tmp + (int )*p) & 8192) {
#line 169
            goto while_break;
          }
        } else {
#line 169
          goto while_break;
        }
#line 169
        p ++;
      }
      while_break___2: /* CIL Label */ ;
      }
      while_break: /* CIL Label */ ;
      }
    } else {
      {
      {
#line 171
      while (1) {
        while_continue___3: /* CIL Label */ ;
        while_continue___0: /* CIL Label */ ;
        {
        {
#line 171
        tmp___0 = strchr((char const   *)term, (int )*p);
        }
        }
#line 171
        if (! ((unsigned long )((unsigned char *)tmp___0) == (unsigned long )((void *)0))) {
#line 171
          goto while_break___0;
        }
#line 171
        p ++;
      }
      while_break___3: /* CIL Label */ ;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 173
    length = (int )(p - pp);
#line 174
    if ((unsigned long )buffer == (unsigned long )((void *)0)) {
      {
      {
#line 176
      tmp___1 = misc_malloc(length + 1);
      }
#line 176
      yield = (uschar *)tmp___1;
      }
    } else {
#line 180
      if (length + 1 > blength) {
        {
        {
#line 180
        error(20, length + 1, blength);
        }
        }
      }
#line 181
      yield = buffer;
    }
    {
    {
#line 183
    memcpy((void */* __restrict  */)yield, (void const   */* __restrict  */)pp, (size_t )length);
    }
#line 184
    *(yield + length) = (uschar )0;
    }
  }
  {
  {
#line 187
  while (1) {
    while_continue___4: /* CIL Label */ ;
    while_continue___1: /* CIL Label */ ;
    {
    {
#line 187
    tmp___2 = __ctype_b_loc();
    }
    }
#line 187
    if (! ((int const   )*(*tmp___2 + (int )*p) & 8192)) {
#line 187
      goto while_break___1;
    }
#line 189
    p ++;
#line 190
    length ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 193
  if ((unsigned long )lptr != (unsigned long )((void *)0)) {
#line 193
    *lptr = length;
  }
#line 194
  return (yield);
}
}
#line 26 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/error.c"
static int error_count___0  =    0;
#line 27 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/error.c"
static int warning_count___0  =    0;
#line 28 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/error.c"
static BOOL suppress_warnings___0  =    0;
#line 42 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/error.c"
static error_struct error_data___0[29]  = 
#line 42
  {      {(char)4, "failed to open %s: %s"}, 
        {(char)4, "malloc failed: requested %d bytes"}, 
        {(char)2, "unknown directive line: %s"}, 
        {(char)2, "missing semicolon after \"&%.*s\""}, 
        {(char)2, "unexpected character \"%c\" after \"&#\""}, 
        {(char)2, "\"layout\", \"text\", \"xml\", or \"off\" expected, but \"%s\" found"}, 
        {(char)2,
      "unknown flag \"&%c\""}, 
        {(char)2, "missing closing flag %s"}, 
        {(char)2, "flag nesting error: \"%s\" expected before \"%s\""}, 
        {(char)2, "a flag must begin with \"&\""}, 
        {(char)2, "a flag must contain more than just \"&\""}, 
        {(char)2, "malformed directive\n   %s"}, 
        {(char)2, "line stack is empty"}, 
        {(char)2, "missing %s at end of file"}, 
        {(char)2, "a macro must be given a name"}, 
        {(char)2, "%s is permitted only inside a macro"}, 
        {(char)2, "unexpected %s"}, 
        {(char)2, "bad macro argument substitution: \"%c\" follows \"%s\""}, 
        {(char)2, "relative macro argument not in \"eacharg\" section"}, 
        {(char)1, "extra characters at end of directive\n   %s %s\n   %.*s%.*s"}, 
        {(char)4, "string too long for internal buffer (%d > %d)"}, 
        {(char)2, "entity \"%s\" has already been defined"}, 
        {(char)2, "\"%s\" is not permitted in an inline macro call"}, 
        {(char)2, "unknown macro \"%.*s\" in inline macro call"}, 
        {(char)2, "missing closing parenthesis in inline macro call:\n   %s"}, 
        {(char)2, "ampersand found at end of line or string - ignored"}, 
        {(char)2, "\"begin\" or \"end\" expected, but \"%s\" found"}, 
        {(char)2, "\".nest begin\" too deeply nested"}, 
        {(char)2, "\".nest end\" incorrectly nested"}};
#line 28 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/para.c"
static uschar *para_macro_process___0(uschar *p , uschar *q ) 
{ 
  int length ;
  argstr **pp ;
  macrodef *md ;
  macroexe *me ;
  int tmp ;
  void *tmp___0 ;
  unsigned short const   **tmp___1 ;
  argstr *as ;
  void *tmp___2 ;
  unsigned short const   **tmp___3 ;
  uschar buffer[1024] ;
  uschar *qq ;
  size_t tmp___4 ;
  unsigned short const   **tmp___5 ;
  macroexe *temp ;
  void *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;

  {
#line 31
  length = (int )(q - p);
#line 36
  md = macrolist;
  {
  {
#line 36
  while (1) {
    while_continue___5: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 36
    if (! ((unsigned long )md != (unsigned long )((void *)0))) {
#line 36
      goto while_break;
    }
#line 38
    if (length == md->namelength) {
      {
      {
#line 38
      tmp = strncmp((char const   *)p, (char const   *)md->name, (size_t )length);
      }
      }
#line 38
      if (tmp == 0) {
#line 38
        goto while_break;
      }
    }
#line 36
    md = md->next;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 41
  if ((unsigned long )md == (unsigned long )((void *)0)) {
    {
    {
#line 43
    error(23, length, p);
    }
    {
#line 44
    fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&");
    }
    }
#line 45
    return (p);
  }
  {
  {
#line 51
  tmp___0 = misc_malloc((int )sizeof(macroexe ));
  }
#line 51
  me = (macroexe *)tmp___0;
#line 52
  me->prev = macrocurrent;
#line 53
  macrocurrent = me;
#line 54
  me->macro = md;
#line 55
  me->nextline = md->lines;
#line 56
  from_type_ptr ++;
#line 56
  from_type[from_type_ptr] = 1;
#line 58
  me->args = (argstr *)((void *)0);
#line 59
  pp = & me->args;
  }
  {
  {
#line 61
  while (1) {
    while_continue___6: /* CIL Label */ ;
    while_continue___0: /* CIL Label */ ;
    {
    {
#line 61
    tmp___1 = __ctype_b_loc();
    }
#line 61
    q ++;
    }
#line 61
    if (! ((int const   )*(*tmp___1 + (int )*q) & 8192)) {
#line 61
      goto while_break___0;
    }
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
  {
#line 62
  while (1) {
    while_continue___7: /* CIL Label */ ;
    while_continue___1: /* CIL Label */ ;
#line 62
    if ((int )*q != 0) {
#line 62
      if (! ((int )*q != 41)) {
#line 62
        goto while_break___1;
      }
    } else {
#line 62
      goto while_break___1;
    }
    {
    {
#line 64
    tmp___2 = misc_malloc((int )sizeof(argstr ));
    }
#line 64
    as = (argstr *)tmp___2;
#line 65
    as->next = (struct argstr *)((void *)0);
#line 66
    *pp = as;
#line 67
    pp = & as->next;
    {
#line 68
    as->string = misc_readitem(q, (unsigned char *)",)", & length, (uschar *)((void *)0),
                               0);
    }
#line 69
    q += length;
    }
#line 70
    if ((int )*q == 44) {
      {
      {
#line 70
      while (1) {
        while_continue___8: /* CIL Label */ ;
        while_continue___2: /* CIL Label */ ;
        {
        {
#line 70
        tmp___3 = __ctype_b_loc();
        }
#line 70
        q ++;
        }
#line 70
        if (! ((int const   )*(*tmp___3 + (int )*q) & 8192)) {
#line 70
          goto while_break___2;
        }
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break___2: /* CIL Label */ ;
      }
    }
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 73
  if ((int )*q != 41) {
    {
    {
#line 75
    error(24, p);
    }
    {
#line 76
    fprintf((FILE */* __restrict  */)outfile, (char const   */* __restrict  */)"&");
    }
    }
#line 77
    return (p);
  }
#line 85
  para_inline_macro ++;
  {
  {
#line 87
  while (1) {
    while_continue___9: /* CIL Label */ ;
    while_continue___3: /* CIL Label */ ;
    {
    {
#line 91
    read_process_macroline((macrocurrent->nextline)->string, buffer);
    }
    }
#line 97
    if ((int )buffer[0] == 46) {
      {
      {
#line 99
      dot_process(buffer);
      }
      }
#line 100
      if ((unsigned long )macrocurrent != (unsigned long )me) {
#line 100
        goto while_break___3;
      }
    } else {
      {
      {
#line 107
      tmp___4 = strlen((char const   *)(buffer));
      }
#line 107
      qq = buffer + (int )tmp___4;
      }
      {
      {
#line 108
      while (1) {
        while_continue___10: /* CIL Label */ ;
        while_continue___4: /* CIL Label */ ;
#line 108
        if ((unsigned long )qq > (unsigned long )(buffer)) {
          {
          {
#line 108
          tmp___5 = __ctype_b_loc();
          }
          }
#line 108
          if (! ((int const   )*(*tmp___5 + (int )*(qq + -1)) & 8192)) {
#line 108
            goto while_break___4;
          }
        } else {
#line 108
          goto while_break___4;
        }
#line 108
        qq --;
      }
      while_break___10: /* CIL Label */ ;
      }
      while_break___4: /* CIL Label */ ;
      }
      {
#line 109
      *qq = (uschar )0;
      {
#line 110
      para_process(buffer);
      }
      }
    }
#line 116
    macrocurrent->nextline = (macrocurrent->nextline)->next;
#line 117
    if ((unsigned long )macrocurrent->nextline == (unsigned long )((void *)0)) {
      {
#line 119
      temp = macrocurrent;
#line 120
      macrocurrent = macrocurrent->prev;
      {
#line 121
      free((void *)temp);
      }
#line 122
      from_type_ptr --;
      }
#line 123
      goto while_break___3;
    }
  }
  while_break___9: /* CIL Label */ ;
  }
  while_break___3: /* CIL Label */ ;
  }
#line 130
  para_inline_macro --;
#line 131
  return (q + 1);
}
}
#line 152 "/home/wslee/benchmarks/textformat/xfpt-0.07/src/para.c"
static void check_literal___0(uschar *s , BOOL *b ) 
{ 
  char *tmp ;
  int tmp___0 ;
  unsigned short const   **tmp___1 ;
  int tmp___2 ;
  unsigned short const   **tmp___3 ;
  int t ;
  uschar *tmp___4 ;
  uschar *tmp___5 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;

  {
  {
  {
#line 155
  while (1) {
    while_continue___2: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 155
    if (! ((int )*s != 0)) {
#line 155
      goto while_break;
    }
    {
    {
#line 157
    tmp = strchr((char const   *)s, '<');
    }
#line 157
    s = (unsigned char *)tmp;
    }
#line 158
    if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 158
      return;
    }
    {
    {
#line 160
    tmp___2 = strncmp((char const   *)s, "<literal", (size_t )8);
    }
    }
#line 160
    if (tmp___2 == 0) {
#line 160
      if ((int )*(s + 8) == 62) {
#line 161
        *b = 1;
      } else {
        {
        {
#line 160
        tmp___3 = __ctype_b_loc();
        }
        }
#line 160
        if ((int const   )*(*tmp___3 + (int )*(s + 8)) & 8192) {
#line 161
          *b = 1;
        } else {
#line 160
          goto _L;
        }
      }
    } else {
      _L: /* CIL Label */ 
      {
      {
#line 162
      tmp___0 = strncmp((char const   *)s, "</literal", (size_t )9);
      }
      }
#line 162
      if (tmp___0 == 0) {
#line 162
        if ((int )*(s + 9) == 62) {
#line 163
          *b = 0;
        } else {
          {
          {
#line 162
          tmp___1 = __ctype_b_loc();
          }
          }
#line 162
          if ((int const   )*(*tmp___1 + (int )*(s + 9)) & 8192) {
#line 163
            *b = 0;
          }
        }
      }
    }
    {
    {
#line 165
    while (1) {
      while_continue___3: /* CIL Label */ ;
      while_continue___0: /* CIL Label */ ;
#line 165
      if ((int )*s != 0) {
#line 165
        if (! ((int )*s != 62)) {
#line 165
          goto while_break___0;
        }
      } else {
#line 165
        goto while_break___0;
      }
#line 167
      if ((int )*s == 34) {
#line 167
        goto _L___0;
      } else
#line 167
      if ((int )*s == 39) {
        _L___0: /* CIL Label */ 
#line 169
        tmp___4 = s;
#line 169
        s ++;
#line 169
        t = (int )*tmp___4;
        {
        {
#line 170
        while (1) {
          while_continue___4: /* CIL Label */ ;
          while_continue___1: /* CIL Label */ ;
#line 170
          if ((int )*s != 0) {
#line 170
            if (! ((int )*s != t)) {
#line 170
              goto while_break___1;
            }
          } else {
#line 170
            goto while_break___1;
          }
#line 170
          s ++;
        }
        while_break___4: /* CIL Label */ ;
        }
        while_break___1: /* CIL Label */ ;
        }
#line 171
        if ((int )*s == 0) {
#line 171
          return;
        }
      }
#line 173
      s ++;
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 176
    tmp___5 = s;
#line 176
    s ++;
#line 176
    if ((int )*tmp___5 == 0) {
#line 176
      return;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 178
  return;
}
}
