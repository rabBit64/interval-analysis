/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 211 "/usr/lib/gcc/i486-linux-gnu/4.4.3/include/stddef.h"
typedef unsigned int size_t;
#line 56 "/usr/include/bits/types.h"
typedef long long __quad_t;
#line 139 "/usr/include/bits/types.h"
typedef unsigned int __mode_t;
#line 141 "/usr/include/bits/types.h"
typedef long __off_t;
#line 142 "/usr/include/bits/types.h"
typedef __quad_t __off64_t;
#line 143 "/usr/include/bits/types.h"
typedef int __pid_t;
#line 45 "/usr/include/stdio.h"
struct _IO_FILE;
#line 45
struct _IO_FILE;
#line 49 "/usr/include/stdio.h"
typedef struct _IO_FILE FILE;
#line 170 "/usr/include/libio.h"
struct _IO_FILE;
#line 180 "/usr/include/libio.h"
typedef void _IO_lock_t;
#line 186 "/usr/include/libio.h"
struct _IO_marker {
   struct _IO_marker *_next ;
   struct _IO_FILE *_sbuf ;
   int _pos ;
};
#line 271 "/usr/include/libio.h"
struct _IO_FILE {
   int _flags ;
   char *_IO_read_ptr ;
   char *_IO_read_end ;
   char *_IO_read_base ;
   char *_IO_write_base ;
   char *_IO_write_ptr ;
   char *_IO_write_end ;
   char *_IO_buf_base ;
   char *_IO_buf_end ;
   char *_IO_save_base ;
   char *_IO_backup_base ;
   char *_IO_save_end ;
   struct _IO_marker *_markers ;
   struct _IO_FILE *_chain ;
   int _fileno ;
   int _flags2 ;
   __off_t _old_offset ;
   unsigned short _cur_column ;
   signed char _vtable_offset ;
   char _shortbuf[1] ;
   _IO_lock_t *_lock ;
   __off64_t _offset ;
   void *__pad1 ;
   void *__pad2 ;
   void *__pad3 ;
   void *__pad4 ;
   size_t __pad5 ;
   int _mode ;
   char _unused2[(15UL * sizeof(int ) - 4UL * sizeof(void *)) - sizeof(size_t )] ;
};
#line 14 "/home/wslee/benchmarks/sound/brutefir-1.0f/defs.h"
typedef int bool_t;
#line 147 "/usr/include/stdio.h"
extern struct _IO_FILE *stderr ;
#line 333
extern int fprintf(FILE * __restrict  __stream , char const   * __restrict  __format 
                   , ...) ;
#line 543 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__, __noreturn__)) void exit(int __status ) ;
#line 142 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2))) strcmp)(char const   *__s1 ,
                                                                                     char const   *__s2 )  __attribute__((__pure__)) ;
#line 411
extern  __attribute__((__nothrow__)) char *strerror(int __errnum ) ;
#line 43 "/usr/include/bits/errno.h"
extern  __attribute__((__nothrow__)) int *__errno_location(void)  __attribute__((__const__)) ;
#line 493 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1))) chdir)(char const   *__path ) ;
#line 684
extern  __attribute__((__nothrow__)) __pid_t setsid(void) ;
#line 773
extern  __attribute__((__nothrow__)) __pid_t fork(void) ;
#line 312 "/usr/include/sys/stat.h"
extern  __attribute__((__nothrow__)) __mode_t umask(__mode_t __mask ) ;
#line 25 "/home/wslee/benchmarks/sound/brutefir-1.0f/emalloc.h"
extern void emalloc_set_exit_function(void (*exit_function)(int  ) , int status ) ;
#line 26 "/home/wslee/benchmarks/sound/brutefir-1.0f/bfrun.h"
extern void bfrun(void) ;
#line 38
extern void bf_exit(int status ) ;
#line 79 "/home/wslee/benchmarks/sound/brutefir-1.0f/bfconf.h"
extern void bfconf_init(char *filename , bool_t quiet , bool_t nodefault ) ;
#line 29 "/home/wslee/benchmarks/sound/brutefir-1.0f/brutefir.c"
int main(int argc , char **argv ) 
{ 
  char *config_filename ;
  bool_t quiet ;
  bool_t nodefault ;
  bool_t run_as_daemon ;
  int n ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  __pid_t tmp___2 ;
  int *tmp___3 ;
  char *tmp___4 ;
  int *tmp___5 ;
  char *tmp___6 ;
  __pid_t tmp___7 ;
  int *tmp___8 ;
  char *tmp___9 ;
  int tmp___10 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;

  {
#line 33
  config_filename = (char *)((void *)0);
#line 34
  quiet = 0;
#line 35
  nodefault = 0;
#line 36
  run_as_daemon = 0;
#line 39
  if (sizeof(float ) != 4UL) {
    {
    {
#line 40
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Unexpected sizeof(float): %d.\n",
            (int )sizeof(float ));
    }
    {
#line 41
    bf_exit(1);
    }
    }
  }
#line 43
  if (sizeof(double ) != 8UL) {
    {
    {
#line 44
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Unexpected sizeof(double): %d.\n",
            (int )sizeof(double ));
    }
    {
#line 45
    bf_exit(1);
    }
    }
  }
#line 48
  n = 1;
  {
  {
#line 48
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: /* CIL Label */ ;
#line 48
    if (! (n < argc)) {
#line 48
      goto while_break;
    }
    {
    {
#line 49
    tmp___1 = strcmp((char const   *)*(argv + n), "-quiet");
    }
    }
#line 49
    if (tmp___1 == 0) {
#line 50
      quiet = 1;
    } else {
      {
      {
#line 51
      tmp___0 = strcmp((char const   *)*(argv + n), "-nodefault");
      }
      }
#line 51
      if (tmp___0 == 0) {
#line 52
        nodefault = 1;
      } else {
        {
        {
#line 53
        tmp = strcmp((char const   *)*(argv + n), "-daemon");
        }
        }
#line 53
        if (tmp == 0) {
#line 54
          run_as_daemon = 1;
        } else {
#line 56
          if ((unsigned long )config_filename != (unsigned long )((void *)0)) {
#line 57
            goto while_break;
          }
#line 59
          config_filename = *(argv + n);
        }
      }
    }
#line 48
    n ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 62
  if (n != argc) {
    {
    {
#line 63
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"\nBruteFIR v1.0f (August 2005)                                  (c) Anders Torger\n\n");
    }
    {
#line 64
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Usage: %s [-quiet] [-nodefault] [-daemon] [configuration file]\n",
            *(argv + 0));
    }
    }
#line 65
    return (2);
  }
#line 68
  if (! quiet) {
    {
    {
#line 69
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"\nBruteFIR v1.0f (August 2005)                                  (c) Anders Torger\n\n");
    }
    }
  }
  {
  {
#line 72
  emalloc_set_exit_function(& bf_exit, 3);
  }
  {
#line 74
  bfconf_init(config_filename, quiet, nodefault);
  }
  }
#line 76
  if (run_as_daemon) {
    {
    {
#line 77
    tmp___2 = fork();
    }
    }
    {
#line 78
    if (tmp___2 == 0) {
#line 78
      goto case_0;
    }
#line 80
    if (tmp___2 == -1) {
#line 80
      goto case_neg_1;
    }
#line 83
    goto switch_default;
    case_0: /* CIL Label */ 
#line 79
    goto switch_break;
    case_neg_1: /* CIL Label */ 
    {
    {
#line 81
    tmp___3 = __errno_location();
    }
    {
#line 81
    tmp___4 = strerror(*tmp___3);
    }
    {
#line 81
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"fork failed: %s",
            tmp___4);
    }
    {
#line 82
    exit(1);
    }
    }
    switch_default: /* CIL Label */ 
    {
    {
#line 84
    exit(0);
    }
    }
    switch_break: /* CIL Label */ ;
    }
    {
    {
#line 86
    tmp___7 = setsid();
    }
    }
#line 86
    if (tmp___7 == -1) {
      {
      {
#line 87
      tmp___5 = __errno_location();
      }
      {
#line 87
      tmp___6 = strerror(*tmp___5);
      }
      {
#line 87
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"setsid failed: %s",
              tmp___6);
      }
      {
#line 88
      exit(1);
      }
      }
    }
    {
    {
#line 90
    tmp___10 = chdir("/");
    }
    }
#line 90
    if (tmp___10 == -1) {
      {
      {
#line 91
      tmp___8 = __errno_location();
      }
      {
#line 91
      tmp___9 = strerror(*tmp___8);
      }
      {
#line 91
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"chdir failed: %s",
              tmp___9);
      }
      {
#line 92
      exit(1);
      }
      }
    }
    {
    {
#line 94
    umask((__mode_t )0);
    }
    }
  }
  {
  {
#line 98
  bfrun();
  }
  {
#line 100
  fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Could not start filtering.\n");
  }
  {
#line 101
  bf_exit(1);
  }
  }
#line 102
  return (1);
}
}
